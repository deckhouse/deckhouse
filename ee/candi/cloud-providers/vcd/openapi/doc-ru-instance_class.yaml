apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: vcdinstanceclasses.deckhouse.io
  labels:
    heritage: deckhouse
    module: cloud-provider-vcd
spec:
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          description: |
            Параметры группы виртуальных машин VCD, используемых `cluster-api-controller-manager` (модулем [cloud-provider-vcd](https://deckhouse.io/documentation/v1/modules/030-cloud-provider-vcd/)).
          properties:
            spec:
              properties:
                rootDiskSizeGb:
                  description: |
                    Размер корневого диска в гигабайтах.
                placementPolicy:
                  description: |
                    PlacementPolicy, которая будет использоваться на данном компьютере.

                    Если PlacementPolicy не указана, для создания узлов будет использоваться PlacementPolicy по умолчанию.
                sizingPolicy:
                  description: |
                    SizingPolicy, которая будет использоваться на данном компьютере.

                    Если SizingPolicy не указана, для создания узлов будет использоваться SizingPolicy по умолчанию.
                storageProfile:
                  description: |
                    StorageProfile, который будет использоваться на данном компьютере.
                template:
                  description: |
                    Путь к шаблону OVA, который будет использоваться. Состоит из каталога и пути к шаблону.
                mainNetwork:
                  description: |
                    Путь к сети, к которой будут подключаться основные сетевые адаптеры виртуальных машин (шлюз по умолчанию).
      additionalPrinterColumns:
        - name: "Node Groups"
          description: NodeGroups, которые используют этот класс инстансов.
