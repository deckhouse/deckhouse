x-extend:
  schema: config-values.yaml
type: object
properties:
  internal:
    type: object
    default: {}
    properties:
      compatibilityFlag:
        type: string
        x-examples:
          - "none"
      storageClasses:
        type: array
        x-examples:
          - [{name: "mydsname", path: "/my/ds/path/mydsname", zones: ["zonea", "zoneb"], datastoreType: "Datastore", datastoreURL: "ds:///vmfs/volumes/1cb87aa4-2bbc0832-5682-626039300014/"}]
        items:
          type: object
          additionalProperties: false
          required: ["datastoreType", "datastoreURL", "name", "path", "zones"]
          properties:
            datastoreType:
              type: string
            datastoreURL:
              type: string
            name:
              type: string
            path:
              type: string
            zones:
              type: array
              items:
                type: string
      providerClusterConfiguration:
        type: object
        additionalProperties: false
        required: [regionTagCategory, zoneTagCategory, region, provider]
        x-examples:
          - sshPublicKey: "mysshkey1"
            region: myreg
            regionTagCategory: myregtagcat
            zoneTagCategory: myzonetagcat
            provider:
              server: myhost
              username: myuname
              password: myPaSsWd
              insecure: true
            zones: ["aaa", "bbb"]
            vmFolderPath: dev/test
          - sshPublicKey: "mysshkey"
            region: myreg
            regionTagCategory: myregtagcat
            zoneTagCategory: myzonetagcat
            provider:
              server: myhost
              username: myuname
              password: myPaSsWd
              insecure: true
            zones: ["aaa", "bbb"]
            vmFolderPath: dev/test
          - sshPublicKey: "mysshkey"
            region: myreg
            regionTagCategory: myregtagcat
            zoneTagCategory: myzonetagcat
            provider:
              server: myhost
              username: myuname
              password: myPaSsWd
              insecure: true
            zones: ["aaa", "bbb"]
            vmFolderPath: dev/test
        properties:
          apiVersion:
            type: string
            enum: [deckhouse.io/v1, deckhouse.io/v1alpha1]
          kind:
            type: string
            enum: [VsphereClusterConfiguration]
          baseResourcePool:
            type: string
          zones:
            type: array
            items:
              type: string
          region:
            type: string
          sshPublicKey:
            type: string
          disableTimesync:
            type: boolean
            default: true
          regionTagCategory:
            type: string
          zoneTagCategory:
            type: string
          vmFolderPath:
            type: string
          vmFolderExists:
            type: boolean
          provider:
            type: object
            additionalProperties: false
            required: [server, username, password]
            properties:
              server:
                type: string
              username:
                type: string
              password:
                type: string
              insecure:
                type: boolean
      providerDiscoveryData:
        type: object
        additionalProperties: false
        properties:
          apiVersion:
            type: string
            enum: [deckhouse.io/v1, deckhouse.io/v1alpha1]
          kind:
            type: string
            enum: [VsphereCloudDiscoveryData]
          vmFolderPath:
            type: string
          resourcePoolPath:
            type: string
          datacenter:
            type: string
          zones:
            type: array
            items:
              type: string
          datastores:
            type: array
            items:
              type: object
              required: [name]
              properties:
                zones:
                  type: array
                  items:
                    type: string
                path:
                  type: string
                name:
                  type: string
                  minLength: 1
                datastoreType:
                  type: string
                datastoreURL:
                  type: string
            description: List of datastores
