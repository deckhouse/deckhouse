x-extend:
  schema: config-values.yaml
type: object
properties:
  internal:
    type: object
    default: {}
    properties:
      customCertificateData:
        type: object
        properties:
          tls.crt:
            type: string
            x-examples:
              - plainstring
          tls.key:
            type: string
            x-examples:
              - plainstring
          ca.crt:
            type: string
            x-examples:
              - plainstring

      orchestrator:
        type: object
        default: {}
        properties:
          state:
            type: object
            properties:
              version:
                type: string
              hash:
                type: string
              ready:
                type: boolean
              data:
                type: object
                default: {}
                additionalProperties: true
                x-kubernetes-preserve-unknown-fields: true
                properties:
                  mode:
                    type: string
                    enum: [Unmanaged, Direct, Proxy, Local]
                  pki:
                    type: object
                    properties:
                      ca: &certKey
                        type: object
                        properties:
                          cert:
                            type: string
                          key:
                            type: string
                      token:
                        <<: *certKey
                  secrets:
                    type: object
                    properties:
                      http:
                        type: string
                  users:
                    type: object
                    properties:
                      ro: &user
                        name:
                          type: string
                        password:
                          type: string
                        password_hash:
                          type: tring
                      rw:
                        <<: *user
                      mirror_puller:
                        <<: *user
                      mirror_pusher:
                        <<: *user


      state:
        type: object
        default: {}
        properties:
          staticpod_version:
            type: string
            default: "unknown"
          nodes:
            type: object
            additionalProperties: true
            x-kubernetes-preserve-unknown-fields: true
      bashible:
        type: object
        default: {}
        properties:
          input:
            type: object
            default: {}
            additionalProperties: true
            x-kubernetes-preserve-unknown-fields: true
          config:
            type: object
            default: {}
            additionalProperties: true
            x-kubernetes-preserve-unknown-fields: true
          status:
            type: object
            default: {}
            additionalProperties: true
            x-kubernetes-preserve-unknown-fields: true
