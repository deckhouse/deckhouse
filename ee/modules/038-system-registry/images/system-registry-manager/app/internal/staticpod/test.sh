#!/bin/bash
#
# Copyright 2024 Flant JSC
# Licensed under the Deckhouse Platform Enterprise Edition (EE) license. See https://github.com/deckhouse/deckhouse/blob/main/ee/LICENSE
#
#############
# OUTDATED! #
#############

# rw password BU84m2rBGkq7zjrjuxpC

curl -XPOST -i 127.0.0.1:4576/staticpod/create -d '{
  "Registry": {
    "UserRw": {
      "Name": "deckhouse-rw",
      "PasswordHash": "$2y$10$pecrsL1WUzsQ4JN4eL.PS.9rSvA9fUSMBHLDfo9hJNyPNEBTVnHT2"
    },
    "UserRo": {
      "Name": "deckhouse-ro",
      "PasswordHash": "$2a$10$sI3dBK8UfU2SohAmpCJ7wuVvKuJr4kibQfHa5Einri.A88GJKbkf6"
    },
    "RegistryMode": "Detached",
    "HttpSecret": "Theigh5reu9akook8nahgh8veeNgi0Ph"
  },
  "Images":
  {
    "DockerDistribution": "embedded-registry.d8-system.svc.cluster.local:5001/system/deckhouse@sha256:5a29b2ccc52a776e73d36bc398426150d8f9851f9a354e17e83eeba9c1452c1c",
    "DockerAuth": "embedded-registry.d8-system.svc.cluster.local:5001/system/deckhouse@sha256:84a6747a22204f916987ed6294de955b8b501097797306f12fa4e9eed8c1d149"
  },
  "Pki": {
    "CaCert": "-----BEGIN CERTIFICATE-----\nMIICRTCCAeygAwIBAgIUBlhiZBwfDQ7glyVvv8fWBmhaAVEwCgYIKoZIzj0EAwIw\ngYAxCzAJBgNVBAYTAlJVMQswCQYDVQQIEwJNTzEPMA0GA1UEBxMGTW9zY293MQ4w\nDAYDVQQKEwVGbGFudDEbMBkGA1UECxMSRGVja2hvdXNlIFJlZ2lzdHJ5MSYwJAYD\nVQQDEx1zeXN0ZW0tcmVnaXN0cnktc2VsZnNpZ25lZC1jYTAeFw0yNDA5MjkxMTE5\nMDBaFw0zNDA5MjcxMTE5MDBaMIGAMQswCQYDVQQGEwJSVTELMAkGA1UECBMCTU8x\nDzANBgNVBAcTBk1vc2NvdzEOMAwGA1UEChMFRmxhbnQxGzAZBgNVBAsTEkRlY2to\nb3VzZSBSZWdpc3RyeTEmMCQGA1UEAxMdc3lzdGVtLXJlZ2lzdHJ5LXNlbGZzaWdu\nZWQtY2EwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASpZdUkElS7nFVqKkQgc+fd\ngJNE5JU7OGWsG7Br749wioDZ4zFtEmwtKqIiMVst3WY7JQZLllyQ/z0RpIW+Xcbp\no0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU\nmIZqqM31LcdkISezSKsCBH5LWo4wCgYIKoZIzj0EAwIDRwAwRAIgAwFyPhAZXKYr\nLClEIDO7w6F/wexGsTgFb1F1rqtFcnwCIHE3ECIf6mo+3rn3SL74hbnNfWfGguw9\nTEACDX7FUS+O\n-----END CERTIFICATE-----\n",
    "AuthCert": "-----BEGIN CERTIFICATE-----\nMIIDVDCCAvugAwIBAgIUNo2h5ODMZcp5vRWmVAdgSEjwedEwCgYIKoZIzj0EAwIw\ngYAxCzAJBgNVBAYTAlJVMQswCQYDVQQIEwJNTzEPMA0GA1UEBxMGTW9zY293MQ4w\nDAYDVQQKEwVGbGFudDEbMBkGA1UECxMSRGVja2hvdXNlIFJlZ2lzdHJ5MSYwJAYD\nVQQDEx1zeXN0ZW0tcmVnaXN0cnktc2VsZnNpZ25lZC1jYTAeFw0yNDA5MjkxMTMz\nMDVaFw0yNTA5MjkxMTMzMDVaMHIxCzAJBgNVBAYTAlJVMQswCQYDVQQIDAJNTzEP\nMA0GA1UEBwwGTW9zY293MQ4wDAYDVQQKDAVGbGFudDEbMBkGA1UECwwSRGVja2hv\ndXNlIFJlZ2lzdHJ5MRgwFgYDVQQDDA9zeXN0ZW0tcmVnaXN0cnkwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDZEFej3Mm1aowjURCWJBkd+Bzs6XoxS2FF\nTahg9CqEEF948HVGN5CSSScJBstsrmHT5yDJd533yvrRqLiGyTeazTkyRmyiC/8d\n13fq2w/iYu4awx6xSYt4HErHAv3WdPjWX8HAo8U9GjMzMA4YFB2c8nzrVIZ3uUOj\n+V8CidI4TWPh6PsYmAGX9fzaZuV5sTZdOPKDyVzzxEDohP98ITDadlqfnOxZZ/WF\nKA1O86dYC4nZ71E0cIBy1t19TxhaGF8x0RNgFVObb1rEzeSvTyytKlISar+HgcS4\nlfYY/bCRxZeO1vnx8d+X9rhaKLNOuYR0Ez+2hUARg0p82YpaAaUPAgMBAAGjgZQw\ngZEwTwYDVR0RBEgwRocEfwAAAYIJbG9jYWxob3N0hwQKgAAdgi1lbWJlZGRlZC1y\nZWdpc3RyeS5kOC1zeXN0ZW0uc3ZjLmNsdXN0ZXIubG9jYWwwHQYDVR0OBBYEFDad\nQ43bTDOCdLAYfpbAZBDUKUBEMB8GA1UdIwQYMBaAFJiGaqjN9S3HZCEns0irAgR+\nS1qOMAoGCCqGSM49BAMCA0cAMEQCIEdH7bcYJk5aornizdJ3ibJYjIhDfJrxszQC\nYy5NyLfQAiAfrDmdq3P3WfH2iymUIp4RPiv1P3NJBt5cKOkjQHygIQ==\n-----END CERTIFICATE-----\n",
    "AuthKey": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDZEFej3Mm1aowj\nURCWJBkd+Bzs6XoxS2FFTahg9CqEEF948HVGN5CSSScJBstsrmHT5yDJd533yvrR\nqLiGyTeazTkyRmyiC/8d13fq2w/iYu4awx6xSYt4HErHAv3WdPjWX8HAo8U9GjMz\nMA4YFB2c8nzrVIZ3uUOj+V8CidI4TWPh6PsYmAGX9fzaZuV5sTZdOPKDyVzzxEDo\nhP98ITDadlqfnOxZZ/WFKA1O86dYC4nZ71E0cIBy1t19TxhaGF8x0RNgFVObb1rE\nzeSvTyytKlISar+HgcS4lfYY/bCRxZeO1vnx8d+X9rhaKLNOuYR0Ez+2hUARg0p8\n2YpaAaUPAgMBAAECggEAHtV09Zhv6L7VYFDsH7/J95leloLF8kmobB1PbVJR1cez\noCzcI9jRxw3wJxaZf/s3d0/uNuAwhtoFDhI/ABqGNQ2w8cTSOqSknTsV1D1BAOIX\nu6J68ikl0C6IqsNwhm3ASUd58ODyrC7UFhHd9qqo2DoT56PupAQjqR/L0ML+IzQM\nImbKVU5Ylsw00h8+YTHlQTM/d9U2LRPA+zhlRejWcfLpMI5nTnHv1OFaKxf4TjzQ\nzOhDhdenk5eOeI6L2JIfQ0WTpCDnFTCGnc+wgMwjYdoejzaJXwKLUN9+gLTGR57Z\nsPR+oF3bofWfPpmg9XYdbodNW4BRGj8ZjmAYLwRe/QKBgQDpx3i2DjamN9hfCg9g\nWpE4Izqaxl/qU3S23Lwp0aCxIH1aN7Qsdz0In/wYX13Fm6eJ4E02X5XUwy9cKfIM\npdOeQrCAOWCH6eteUuZL2IpRTQ46cot+4FiLOpFtMJljzSSfgFlnFTgQMHY9YTg3\nOiSF/hKCWo7RRfq776IIU5MYEwKBgQDtsiNAu/106vn5inAsMTKnAvDdG1fECs08\nD2drm8l8FrdfNXlM++LX6yzV3R3Bjn3nGKnxoqZ3Z3dhbIY92FIDPJF5NtVEFKHJ\nUL8YrmITir8fDcSzPTlpk3/ey3SX4khb+pOHe0VBrjjFiwQ2pLqIZBS8BGbUzNH/\nb1JNycEWlQKBgH+/7jnmWHzKhaWh1Lc9pp+7uJm9j8p4Io6O3xAnKp3AeF+lkwK9\ngg/FhTg4XQDQR2Rzux3ca/8hTi8aCNhageK45MSdFiAPdvxLZufJhARbjEvqLkp+\nBETJE5FMfnXoM3wp4jEPilxmbyapitO7JRxHtAuhuuunRxYOJEhSi04bAoGBAJf1\nrMfz50PZ/VnlgXUfNszC+o3Ar0lrxm3BQ1LuU897DlxV6WioGAwGE7HeHOnjWOZn\nRC5w14+6m/2yzde39iaPkEk4HvvZXN1BPAphYd4wc6M8wCX+3Dd8zuD2nWGEjtIO\nzkZtLoehBDZ2e4kbow0TPpY9Eii1kQOGfc2xUDpJAoGAbIZUgnsF+BVKp5z58wJF\nMPdTqVZV5hTuOBlib5C+k/ybs+n7zCBl9YBwCvzWAjdaCyyjUaTPGXoERaysBtva\nHlPXs5ozJ3v/Xk8PJgU2RQyjSoBiQkpCq8Fgg25y+yWyZwUVKSjXYVs5oMsjWM5B\nZDThMQk98NvgG8wP20RK0j0=\n-----END PRIVATE KEY-----\n",
    "DistributionCert": "-----BEGIN CERTIFICATE-----\nMIIDVTCCAvugAwIBAgIUe5aU+k2zMdneI/qB9rGk5gkthYIwCgYIKoZIzj0EAwIw\ngYAxCzAJBgNVBAYTAlJVMQswCQYDVQQIEwJNTzEPMA0GA1UEBxMGTW9zY293MQ4w\nDAYDVQQKEwVGbGFudDEbMBkGA1UECxMSRGVja2hvdXNlIFJlZ2lzdHJ5MSYwJAYD\nVQQDEx1zeXN0ZW0tcmVnaXN0cnktc2VsZnNpZ25lZC1jYTAeFw0yNDA5MjkxMTMz\nMDVaFw0yNTA5MjkxMTMzMDVaMHIxCzAJBgNVBAYTAlJVMQswCQYDVQQIDAJNTzEP\nMA0GA1UEBwwGTW9zY293MQ4wDAYDVQQKDAVGbGFudDEbMBkGA1UECwwSRGVja2hv\ndXNlIFJlZ2lzdHJ5MRgwFgYDVQQDDA9zeXN0ZW0tcmVnaXN0cnkwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDj62OrI9HUkbJ5beu6hcCx7v+1aiuMTmO4\nagntLpc8JqPC+AeFXNsq9gOc8TOs++Fh6J+TZrMG6hbMnijT3BQVcPgcvjMEy8yg\n7PLF8OgJURrd49Y6kSdzY7E7qLBCFES6TYYKridfY+tyOQGbt6kyzWMm5w+qyn5g\nsx0RISEVym0VyYoo+6dfSuQJRe+jH/Uf55WwshcVM5ORtmKh40R0vALwXrSh5Wxt\nqWutVfAWk9e2nBsmnHr7LeZsCPwU5hzs9d9n+gIfaQMaNIvcvpAjfcd6QzN4w+hT\n+GaOJDCplqmBpj+2omnvhlP5HoeCixfXAktlFggX1H/YjWY9iFZfAgMBAAGjgZQw\ngZEwTwYDVR0RBEgwRocEfwAAAYIJbG9jYWxob3N0hwQKgAAdgi1lbWJlZGRlZC1y\nZWdpc3RyeS5kOC1zeXN0ZW0uc3ZjLmNsdXN0ZXIubG9jYWwwHQYDVR0OBBYEFBP0\nwPp0jQU2R4YdmH8XybiJgObuMB8GA1UdIwQYMBaAFJiGaqjN9S3HZCEns0irAgR+\nS1qOMAoGCCqGSM49BAMCA0gAMEUCIAdBYuD2pS3RGH3gf45XjBA4bZ1wZNJHel40\nHv6h5jXWAiEAmDDJwwrp6FCQBTK1YfVu5ggDjj9VRdGwkvaSHusFEKk=\n-----END CERTIFICATE-----\n",
    "DistributionKey": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDj62OrI9HUkbJ5\nbeu6hcCx7v+1aiuMTmO4agntLpc8JqPC+AeFXNsq9gOc8TOs++Fh6J+TZrMG6hbM\nnijT3BQVcPgcvjMEy8yg7PLF8OgJURrd49Y6kSdzY7E7qLBCFES6TYYKridfY+ty\nOQGbt6kyzWMm5w+qyn5gsx0RISEVym0VyYoo+6dfSuQJRe+jH/Uf55WwshcVM5OR\ntmKh40R0vALwXrSh5WxtqWutVfAWk9e2nBsmnHr7LeZsCPwU5hzs9d9n+gIfaQMa\nNIvcvpAjfcd6QzN4w+hT+GaOJDCplqmBpj+2omnvhlP5HoeCixfXAktlFggX1H/Y\njWY9iFZfAgMBAAECggEAJzb88xk6pSRcXOA4yuLwgKzqekBGNeHW7ofwJUr64nKT\ngpxCTwPnAcFKZdpqVb0QzlPEAQyOiQYF3jboN2uKWRYS2n8vMAgQsS+TpdMJWXEG\n+l6VIYaQDx58BBPGH9h06skj4vqL87GxdPmx+STki8Ui5jKjU3N7ww+OVMAqfSD/\n3r617ekIClimcrf2WcUL6LNR9SJjS57NmDIUQpVpcVQ8QfcPo+FMnnq4De2wU8g2\nW7c0MwzLSIKNfQ4FZZtZV3qEZE/fJyZhQJVe6DBSc3BLIwfk/GOPXxmXhQk1663u\nZ7HFwyJ6zfimK0DvmOKB2RT9Z7eMl5Qjb3pBQhP7YQKBgQD+ssxTMtZzScAr79PY\ncFJEr6eLednhHcI9KVTJT/8bhqP1RDhOvruxCJZCSlDcNK7bjPxE8Z3B7sYQSitw\nTtNph1akWu1EzILSJZ8eVTKv97HiNbOosfczxTXffZIihdlaRh7LNBGR4aAM4H7O\nLzdPwflVM0eEB80/Wu1bzNLFEwKBgQDlFY70BMoqSmEEqyUOtq07KPrfEWwLJftY\nPyjr8a7aOW4bhEyAs3cXwYluwLLXXjROcLHpC3ihf5rT3vKmTKPXv57HkHMBow07\nPaDKfGTbdEsQsQM8lKiogpGzr0s+y3knJbrpoyl0msMKEo9QH5t2FoOu+0wxcXQR\nRurxu1QvBQKBgFm/PRpP/prvMOUKhBZvNb34O0x9alXVu5z7lGG/a4ASiHGjUUgG\nE3MFOJUxRJ7jfX3lhvrwPIuajHYu/HF9hSdZRiFx3MtyWOKd2RzCHrM8z5SLIbxe\nwWGfqyUORVEe4wDZVn554XsLCu+ep3AV2SKkkiwAfsG6UgtyCdNgMCC7AoGAZXiA\nIpxAhCz//lZkirjl0I+dV9NavTFsvLD1SlV6MtU/bVbToCpeNRqX6oPWc8kZeCk4\n1NYs77Qa+4AEkR7fcABDr3fPSUlU4gmxQB+LeR1w5orRuTLL5iA3s5SQytbL6kgv\nG7AW+7xVag/AhSgK72qXl5leLYRoegKkrMBiUJUCgYEAs/mvxf2GxCn27M0MxTXj\n6xowMfP7gwzzmWRzDFzToADcnhABeP9h4FHJtakG6JKt5vUt2cYPgs+PJWDVYESy\nlh+zBTzhe1NuIwhFFFeOrDn+dNEcuC8Hvav2J8kfL6jjwlVo1kJ3J0coGLzgkiLm\nHlM3BpYJYohEXD/M4UqZNn8=\n-----END PRIVATE KEY-----\n"
  },
  "Proxy": {
    "HttpProxy": "http://proxy",
    "HttpsProxy": "http://proxy",
    "NoProxy": "localhost"
  }
}'
