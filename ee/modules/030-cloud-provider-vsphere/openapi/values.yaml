x-extend:
  schema: config-values.yaml
type: object
properties:
  internal:
    type: object
    default: {}
    properties:
      defaultStorageClass:
        type: string
        x-examples:
        - fast-lun102-7d0bf578
      compatibilityFlag:
        type: string
        x-examples:
          - ""
      storageClasses:
        type: array
        x-examples:
          - [{name: "mydsname", path: "/my/ds/path/mydsname", zones: ["zonea", "zoneb"], datastoreType: "Datastore", datastoreURL: "ds:///vmfs/volumes/1cb87aa4-2bbc0832-5682-626039300014/"}]
        items:
          type: object
          additionalProperties: false
          required: ["datastoreType", "datastoreURL", "name", "path", "zones"]
          properties:
            datastoreType:
              type: string
            datastoreURL:
              type: string
            name:
              type: string
            path:
              type: string
            zones:
              type: array
              items:
                type: string
      providerClusterConfiguration:
        type: object
        additionalProperties: false
        required: [regionTagCategory, zoneTagCategory, region, sshPublicKey, vmFolderPath, provider]
        x-examples:
          - sshPublicKey: "mysshkey1"
            region: myreg
            regionTagCategory: myregtagcat
            zoneTagCategory: myzonetagcat
            provider:
              server: myhost
              username: myuname
              password: myPaSsWd
              insecure: true
            zones: ["aaa", "bbb"]
            vmFolderPath: dev/test
            masterNodeGroup:
              instanceClass:
                datastore: dev/lun_1
                mainNetwork: k8s-msk/test_187
                memory: 8192
                numCPUs: 4
                template: dev/golden_image
        properties:
          apiVersion:
            type: string
            enum: [deckhouse.io/v1, deckhouse.io/v1alpha1]
          kind:
            type: string
            enum: [VsphereClusterConfiguration]
          baseResourcePool:
            type: string
          zones:
            type: array
            items:
              type: string
          layout:
            type: string
          internalNetworkCIDR:
            type: string
          region:
            type: string
          sshPublicKey:
            type: string
          disableTimesync:
            type: boolean
          regionTagCategory:
            type: string
          zoneTagCategory:
            type: string
          vmFolderPath:
            type: string
          externalNetworkNames:
            type: array
            items:
              type: string
          internalNetworkNames:
            type: array
            items:
              type: string
          nodeGroups:
            type: array
            items:
              type: object
              additionalProperties: true
          masterNodeGroup:
            type: object
            additionalProperties: true
            properties:
              instanceClass:
                type: object
                nullable: true
                additionalProperties: true
                required: [template, datastore]
                properties:
                  template:
                    type: string
                  datastore:
                    type: string
          provider:
            type: object
            additionalProperties: false
            required: [server, username, password]
            properties:
              server:
                type: string
              username:
                type: string
              password:
                type: string
              insecure:
                type: boolean
      providerDiscoveryData:
        type: object
        additionalProperties: false
        properties:
          apiVersion:
            type: string
            enum: [deckhouse.io/v1, deckhouse.io/v1alpha1]
          kind:
            type: string
            enum: [VsphereCloudDiscoveryData]
          vmFolderPath:
            type: string
          resourcePoolPath:
            type: string
      vsphereDiscoveryData:
        type: object
        additionalProperties: false
        required: [datacenter]
        x-examples:
          - datacenter: test
        properties:
          datacenter:
            type: string
          zones:
            type: array
            items:
              type: string
