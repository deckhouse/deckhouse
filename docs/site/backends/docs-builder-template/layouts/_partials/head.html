{{- $description := "" }}
{{- if .Description }}{{ $description = .Description | strings.TrimSpace }}{{ else }}{{ $description = .Summary | strings.TrimSpace }}{{ end }}
{{- if lt ( $description | len ) 20 }}{{ $description = .Site.Params.description }}{{ end }}
{{- $canonicalURL := strings.TrimSuffix "readme.html" .RelPermalink }}
{{- $canonicalURL = replaceRE "^(/modules/[a-zA-Z0-9-]+)/(alpha|beta|early-access|stable|rock-solid)/(.*)$" "$1/$3" $canonicalURL 1 }}
{{- if ne site.Params.mode "module" -}}
  {{- $canonicalURL = printf "%s%s" site.BaseURL (strings.TrimLeft "/" $canonicalURL) -}}
{{- end -}}

<title>{{ .Title }} | {{ .Site.Title }}</title>
<link rel="canonical" href="{{ $canonicalURL }}" />
<meta name="description" content="{{  $description }}">
<meta name="title" content="{{ .Title }} | {{ .Site.Title }}">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:url" content="{{ strings.TrimSuffix "readme.html" .Permalink  }}">
<meta property="og:title" content="{{ .Title }} | {{ .Site.Title }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:image" content="{{ if eq site.Params.mode "module" }}/{{ else }}{{ site.BaseURL }}{{ end }}images/og/kubernetes-platform.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="628">
<meta property="og:image:type" content="image/png">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
