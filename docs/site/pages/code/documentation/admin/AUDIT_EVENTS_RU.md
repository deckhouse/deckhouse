---
title: "Аудит безопасности"
menuTitle: Аудит безопасности
force_searchable: true
description: Аудит безопасности
permalink: ru/code/documentation/admin/audit-events.html
lang: ru
weight: 50
---

Аудит безопасности — это детальный анализ вашей инфраструктуры, направленный на выявление потенциальных уязвимостей и небезопасных практик. Code помогает упростить процесс аудита с помощью событий аудита, которые позволяют отслеживать широкий спектр действий, происходящих в системе.

Примеры использования событий аудита:

- Отслеживание, кто и когда изменил уровень доступа пользователя в проекте Code.
- Создание, удаление пользователей

События аудита помогают:

- Оценивать риски и усиливать меры безопасности.
- Реагировать на инциденты.

Например:

- Выявить подозрительную активность, массовые изменения емейлов сотрудников или удаление репозиториев
- Изменение переменных окружения в CI
- Изменения уровня видимости проектов и групп

Все события аудита хранятся бессрочно. Благодаря отсутствию срока хранения, вы всегда имеете доступ ко всей истории событий.

Для получения доступа к событиям аудита необходимо войти в режим администратора и выбрать в сайдбаре слева пункт "Аудит событий"

## Доступ к событиям аудита через API

Code предоставляет API-метод для получения списка событий аудита с возможностью фильтрации и сортировки.

**Метод:**  
`POST /api/v4/admin/audit_events/search`

**Описание:**  
Возвращает список событий аудита. Допускается фильтрация по датам, текстовому поиску и типам сущностей.  
> ⚠️ Диапазон дат должен находиться в пределах одного календарного месяца. Если значения `created_after` и `created_before` относятся к разным месяцам, `created_before` будет автоматически приведено к последнему дню месяца, в который входит `created_after`.

### параметроы запроса

| Параметр         | Тип    | Обязательный | Описание                                                                                      |
|------------------|--------|--------------|-----------------------------------------------------------------------------------------------|
| `created_after`  | string | нет          | Начальная дата (включительно) в формате ISO8601. По умолчанию — начало текущего месяца       |
| `created_before` | string | нет          | Конечная дата (включительно) в формате ISO8601. По умолчанию — конец текущего месяца         |
| `q`              | string | нет          | Полнотекстовый поиск по сообщению события                                                    |
| `sort`           | string | нет          | Сортировка по дате создания. Возможные значения: `created_asc`, `created_desc` (по умолчанию)|
| `entity_types`   | array  | нет          | Список типов сущностей для фильтрации: `User`, `Project`, `Group`, `Gitlab::Audit::InstanceScope` |

**Пример запроса:**

```bash
curl --request POST "https://example.com/api/v4/admin/audit_events/search" \
     --header "PRIVATE-TOKEN: <your_access_token>" \
     --header "Content-Type: application/json" \
     --data '{
       "created_after": "2025-08-01",
       "created_before": "2025-08-31",
       "q": "repository",
       "sort": "created_desc",
       "entity_types": ["Project"]
     }'
```
