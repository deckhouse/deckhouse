---
title: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"
permalink: ru/virtualization-platform/documentation/admin/install/steps/base-cluster.html
lang: ru
---

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å YAML-—Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

YAML-—Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã):

- [ClusterConfiguration](/products/kubernetes-platform/documentation/v1/reference/api/cr.html#clusterconfiguration) ‚Äî –æ–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–ª–∞—Å—Ç–µ—Ä–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ –≤–µ—Ä—Å–∏—è —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ —Å–ª–æ—è (control plane), —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã CRI –∏ —Ç.–¥.

  > –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å ClusterConfiguration –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–ª–∞—Å—Ç–µ—Ä Kubernetes. –¢–æ –µ—Å—Ç—å `ClusterConfiguration` –Ω–µ –Ω—É–∂–µ–Ω, –µ—Å–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes.

- [StaticClusterConfiguration](/products/kubernetes-platform/documentation/v1/reference/api/cr.html#staticclusterconfiguration) ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö bare metal.

  > –ö–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å —Ä–µ—Å—É—Ä—Å–æ–º ClusterConfiguration, —Ä–µ—Å—É—Ä—Å StaticClusterConfiguration –Ω–µ –Ω—É–∂–µ–Ω, –µ—Å–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ Kubernetes.

- [ModuleConfig](/products/kubernetes-platform/documentation/v1/reference/api/cr.html#moduleconfig) ‚Äî –Ω–∞–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

- –ü–æ–¥—Å–µ—Ç–∏ –ø–æ–¥–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ ‚Äî `10.88.0.0/16` –∏ `10.99.0.0./16`;
- –£–∑–ª—ã —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π —á–µ—Ä–µ–∑ –ø–æ–¥—Å–µ—Ç—å `192.168.1.0/24`;
- –ü—É–±–ª–∏—á–Ω—ã–π wildcard-–¥–æ–º–µ–Ω –∫–ª–∞—Å—Ç–µ—Ä–∞ `my-dvp-cluster.example.com`;
- –ö–∞–Ω–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π `early-access`.

{% offtopic title="–ü—Ä–∏–º–µ—Ä config.yaml –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∞–∑–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã" %}

```yaml
apiVersion: deckhouse.io/v1
kind: ClusterConfiguration
clusterType: Static
podSubnetCIDR: 10.88.0.0/16
serviceSubnetCIDR: 10.99.0.0/16
kubernetesVersion: "Automatic"
clusterDomain: "cluster.local"
---
apiVersion: deckhouse.io/v1
kind: StaticClusterConfiguration
internalNetworkCIDRs:
  - 192.168.1.0/24
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleConfig
metadata:
  name: global
spec:
  version: 1
  settings:
    modules:
      publicDomainTemplate: "%s.my-dvp-cluster.example.com"
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleConfig
metadata:
  name: deckhouse
spec:
  enabled: true
  version: 1
  settings:
    bundle: Default
    releaseChannel: EarlyAccess
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleConfig
metadata:
  name: user-authn
spec:
  enabled: true
  version: 2
  settings:
    controlPlaneConfigurator:
      dexCAMode: DoNotNeed
    # –í–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Kubernetes API —á–µ—Ä–µ–∑ Ingress.
    # https://deckhouse.ru/modules/user-authn/configuration.html#parameters-publishapi
    publishAPI:
      enabled: true
      https:
        mode: Global
        global:
          kubeconfigGeneratorMasterCA: ""
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleConfig
metadata:
  name: cni-cilium
spec:
  enabled: true
  version: 1
  settings:
    tunnelMode: VXLAN
```

{% endofftopic %}

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ container registry

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–µ–¥–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ container registry `registry.deckhouse.ru`:

- –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Community Edition –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

- –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Enterprise Edition –∏ –≤—ã—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ **–º–∞—à–∏–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**  —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞:

  ```shell
  docker login -u license-token registry.deckhouse.ru
  ```

## –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –í—ã–±–æ—Ä –æ–±—Ä–∞–∑–∞ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞

–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–¥–∞–∫—Ü–∏–∏ –∏ –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:

```shell
registry.deckhouse.ru/deckhouse/<REVISION>/install:<RELEASE_CHANNEL>
```

–ì–¥–µ:

- `<REVISION>` ‚Äî [—Ä–µ–¥–∞–∫—Ü–∏—è](../../../about/editions.html) –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä `ee` ‚Äî –¥–ª—è Enterprise Edition, `ce` ‚Äî –¥–ª—è Community Edition –∏ —Ç. –¥.)

- `<RELEASE_CHANNEL>` ‚Äî [–∫–∞–Ω–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π](../../../about/release-channels.html) –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ kebab-case:
  - `alpha` ‚Äî –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π *Alpha*;
  - `beta` ‚Äî –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π *Beta*;
  - `early-access` ‚Äî –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π *EarlyAccess*;
  - `stable` ‚Äî –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π *Stable*;
  - `rock-solid` ‚Äî –¥–ª—è –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π *RockSolid*.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –ø–æ–¥–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–ª—é—á–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —É–∑–ª–∞–º.

   –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–¥–∞–∫—Ü–∏–∏ `CE` –∏–∑ –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π `Stable` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ `registry.deckhouse.ru/deckhouse/ce/install:stable`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:

   ```shell
   docker run -it --pull=always \
     -v "$PWD/config.yaml:/config.yaml" \
     -v "$HOME/.ssh/:/tmp/.ssh/" registry.deckhouse.ru/deckhouse/ce/install:stable bash
   ```

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `dhctl bootstrap`.

   –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —É–∑–ª–æ–≤ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `dvpinstall`, –∞ master-—É–∑–µ–ª –∏–º–µ–µ—Ç –∞–¥—Ä–µ—Å `54.43.32.21`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:

   ```shell
   dhctl bootstrap \
     --ssh-host=54.43.32.21 \
     --ssh-user=dvpinstall --ssh-agent-private-keys=/tmp/.ssh/id_rsa \
     --config=/config.yaml --ask-become-pass
   ```

–ï—Å–ª–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `sudo` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø–∞—Ä–æ–ª—å, —Ç–æ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å `[sudo] Password:`.
–ü–∞—Ä–∞–º–µ—Ç—Ä `--ask-become-pass` –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —É–∑–ª–∞ –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∑–∞–ø—É—Å–∫ `sudo` –±–µ–∑ –ø–∞—Ä–æ–ª—è.

–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `$HOME/.ssh` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫—É –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SSH, –ø–æ—ç—Ç–æ–º—É –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `--ssh-host` –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–∞ —Å–µ–∫—Ü–∏–π Host –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ SSH.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –ø–æ–¥–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–ª—é—á–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —É–∑–ª–∞–º –∏ —Ñ–∞–π–ª –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Kubernetes API.

   –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–¥–∞–∫—Ü–∏–∏ `CE` –∏–∑ –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π `Stable` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–±—Ä–∞–∑ `registry.deckhouse.ru/deckhouse/ce/install:stable`,  –∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Kubernetes API –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `$HOME/.kube/config`.

   –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:

   ```shell
   docker run -it --pull=always \
     -v "$PWD/config.yaml:/config.yaml" \
     -v "$HOME/.kube/config:/kubeconfig" registry.deckhouse.io/deckhouse/ce/install:stable bash
   ```

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `dhctl bootstrap-phase install-deckhouse`.

   –ï—Å–ª–∏ –Ω–∞ **–º–∞—à–∏–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª–∞—Å—Ç–µ—Ä—É, —Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

   ```shell
   dhctl bootstrap-phase install-deckhouse \
     --config=/config.yaml \
     --kubeconfig=/kubeconfig
   ```

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç 5 –¥–æ 30 –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É master-—É–∑–ª–æ–º –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –æ–±—Ä–∞–∑–æ–≤.

{% offtopic title="–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏..." %}

```console
...

‚îå Create deckhouse release for version v1.65.6
‚îÇ üéâ Succeeded!
‚îî Create deckhouse release for version v1.65.6 (0.23 seconds)

‚îå ‚õµ ~ Bootstrap: Clear cache
‚îÇ ‚ùó ~ Next run of "dhctl bootstrap" will create a new Kubernetes cluster.
‚îî ‚õµ ~ Bootstrap: Clear cache (0.00 seconds)

üéâ Deckhouse cluster was created successfully!
```

{% endofftopic %}

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –≤—ã–π—Ç–∏ –∏–∑ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ [–Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–æ—Å—Ç—É–ø–∞](access.html).

## –ü—Ä–æ–≤–µ—Ä–∫–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

1. –û–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
   - –ó–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ [`publicDomainTemplate`](/products/kubernetes-platform/documentation/v1/reference/api/global.html#parameters-modules-publicdomaintemplate) –∏ [`clusterDomain`](/products/kubernetes-platform/documentation/v1/reference/api/cr.html#clusterconfiguration-clusterdomain) –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.
   - –î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.
   - –ò–º—è —Ö–æ—Å—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
     - –î–ª–∏–Ω–∞ –Ω–µ –±–æ–ª–µ–µ 63 —Å–∏–º–≤–æ–ª–æ–≤;
     - –°–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Å—Ç—Ä–æ—á–Ω—ã—Ö –±—É–∫–≤;
     - –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ (–¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å–∏–º–≤–æ–ª—ã `-` –∏ `.`, –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ –∏–º–µ–Ω–∏).
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–í–ú) –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π CRI (containerd).
   - –ò–º—è —Ö–æ—Å—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞.

1. –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞:
   - –£–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `--ssh-host`. –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω IP-–∞–¥—Ä–µ—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–≤–æ–≥–æ master-—É–∑–ª–∞.
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSH-—Ç—É–Ω–Ω–µ–ª—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã) master-—É–∑–ª–∞.
   - –°–µ—Ä–≤–µ—Ä (–í–ú) —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ master-—É–∑–ª–∞.
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–í–ú) –¥–ª—è master-—É–∑–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python.
   - –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–∑–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ —É–∫–∞–∑–∞–Ω—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏).
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–í–ú) –¥–ª—è master-—É–∑–ª–∞ –∏ —Ö–æ—Å—Ç–µ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–∞ —Å–≤–æ–±–æ–¥–Ω—ã –ø–æ—Ä—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
   - DNS –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∞—Ç—å `localhost` –≤ IP-–∞–¥—Ä–µ—Å 127.0.0.1.
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–í–ú) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `sudo`.

1. –ü—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–ª–∞—á–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞:
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã master-—É–∑–ª–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

{% offtopic title="–°–ø–∏—Å–æ–∫ —Ñ–ª–∞–≥–æ–≤ –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫..." %}

- `--preflight-skip-all-checks` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.
- `--preflight-skip-ssh-forward-check`  ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–±—Ä–æ—Å–∞ SSH.
- `--preflight-skip-availability-ports-check` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ—Ä—Ç–æ–≤.
- `--preflight-skip-resolving-localhost-check` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ `localhost`.
- `--preflight-skip-deckhouse-version-check` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ Deckhouse.
- `--preflight-skip-registry-through-proxy` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ registry —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä.
- `--preflight-skip-public-domain-template-check`  ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —à–∞–±–ª–æ–Ω–∞ `publicDomain`.
- `--preflight-skip-ssh-credentials-check`   ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö SSH-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `--preflight-skip-registry-credential` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ registry.
- `--preflight-skip-containerd-exist` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è containerd.
- `--preflight-skip-python-checks` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è Python.
- `--preflight-skip-sudo-allowed` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `sudo`.
- `--preflight-skip-system-requirements-check` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.
- `--preflight-skip-one-ssh-host` ‚Äî –ø—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö SSH-—Ö–æ—Å—Ç–æ–≤.
  
–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–ª–∞–≥–∞ –ø—Ä–æ–ø—É—Å–∫–∞:

```shell
    dhctl bootstrap \
    --ssh-user=<SSH_USER> --ssh-agent-private-keys=/tmp/.ssh/id_rsa \
    --config=/config.yml \
    --preflight-skip-all-checks 
```

{% endofftopic %}
