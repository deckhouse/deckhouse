---
title: "Требования"
permalink: ru/virtualization-platform/documentation/about/requirements.html
lang: ru
---

{% alert level="warning" %}
Компоненты платформы необходимо развертывать на физических серверах (bare-metal).

Установка на виртуальные машины допустима только в демонстрационных целях, но при этом должна быть включена вложенная виртуализация (nested virtualization). Если платформа развернута на виртуальных машинах, техническая поддержка не предоставляется.
{% endalert %}

## Возможности масштабирования платформы

Платформа поддерживает следующую конфигурацию:

- Максимальное количество узлов: 1000.
- Максимальное количество виртуальных машин: 50000.

## Минимальные требования к платформе

В зависимости от архитектуры, для корректной работы платформы требуются следующие минимальные ресурсы:

| Архитектура                                                             | Запуск нагрузки        | Master-узел          | Worker-узел         | Системный узел       | Frontend-узел       |
|-------------------------------------------------------------------------|------------------------|----------------------|---------------------|----------------------|---------------------|
| Одноузловая платформа<br/>(Single Node / Edge)                          | На одном узле          | 3 vCPU<br/>10 ГБ ОЗУ | —                   | —                    | —                   |
| Многоузловая платформа<br/>(1 master-узел + worker-узлы)                | На всех узлах          | 6 vCPU<br/>6 ГБ ОЗУ  | 2 vCPU<br/>4 ГБ ОЗУ | —                    | —                   |
| Трёхузловая платформа<br/>(3 master-узла, High Availability)            | На всех узлах          | 6 vCPU<br/>14 ГБ ОЗУ | —                   | —                    | —                   |
| Платформа с выделенными worker-узлами<br/>(3 master-узла + worker-узлы) | Только на worker-узлах | 5 vCPU<br/>11 ГБ ОЗУ | 2 vCPU<br/>5 ГБ ОЗУ | —                    | —                   |
| Распределённая архитектура                                              | Только на worker-узлах | 4 vCPU<br/>9 ГБ ОЗУ  | 1 vCPU<br/>2 ГБ ОЗУ | 4 vCPU<br/>10 ГБ ОЗУ | 1 vCPU<br/>2 ГБ ОЗУ |

Выбор архитектуры платформы подробно описан в разделе [Архитектурные решения](/products/virtualization-platform/documentation/about/architecture-options.html).

## Требования к аппаратному обеспечению

### Требования к машине для установки

Здесь будет запускаться установщик Deckhouse. Это может быть ноутбук администратора или любой другой компьютер, который не планируется добавлять в кластер. Требования к этой машине:

- ОС: Windows 10+, macOS 10.15+, Linux (Ubuntu 18.04+, Fedora 35+);
- Установленный Docker Engine или Docker Desktop (инструкции [для Ubuntu](https://docs.docker.com/engine/install/ubuntu/), [macOS](https://docs.docker.com/desktop/mac/install/), [Windows](https://docs.docker.com/desktop/windows/install/));
- HTTPS-доступ к хранилищу образов контейнеров `registry.deckhouse.ru`;
- SSH-доступ по ключу к узлу, который будет **master-узлом** будущего кластера;
- SSH-доступ по ключу к узлу, который будет **worker-узлом** будущего кластера (если кластер будет состоять не из одного master-узла).

### Общие требования к физическим серверам (bare-metal)

Все узлы кластера должны соответствовать базовым аппаратным условиям:

- **Процессор**:
  - Архитектура x86_64;
  - Поддержка Intel-VT (VMX) или AMD-V (SVM).
- **Совместимость**:
  - Платформа не имеет дополнительных ограничений и может работать на любом серверном оборудовании, поддерживаемом выбранной операционной системой.
- **Ресурсы**:
  - CPU, RAM и диски должны соответствовать выбранной архитектуре кластера (см. [минимальные требования](#минимальные-требования-к-платформе));
  - Быстрый диск (≥400 IOPS), объём не менее 60 ГБ;
  - Дополнительные диски могут потребоваться при использовании SDS.
- **Операционная система** — [из списка поддерживаемых](#поддерживаемые-ос-для-узлов-платформы), ядро Linux версии `5.8` или новее.
- **Программное обеспечение**:
  - Установленные пакеты `cloud-init` и `cloud-utils` (названия могут различаться в зависимости от дистрибутива).
- **Сеть**:
  - HTTPS-доступ к `registry.deckhouse.ru` и репозиториям пакетов ОС;
  - SSH-доступ от машины для установки по порту `22/TCP` (подробнее в [требованиях к машине для установки](#требования-к-машине-для-установки));
  - Уникальный hostname среди всех узлов.

{% alert level="warning" %}
Container runtime будет установлен автоматически, поэтому пакеты `containerd` и/или `docker` не должны быть установлены.
{% endalert %}

#### Дополнительные требования к master-узлам

На master-узлах размещаются управляющие компоненты кластера. Минимальные ресурсы для master-узлов указаны в таблице [минимальных требований](#минимальные-требования-к-платформе).

#### Дополнительные требования к worker-узлам

На worker-узлах выполняются виртуальные машины. Требования к ресурсам зависят от числа и размеров планируемых ВМ (подробнее в [минимальных требованиях к платформе](#минимальные-требования-к-платформе)). При использовании SDS может потребоваться выделенное дисковое пространство для хранилища.

### Требования к оборудованию для хранилища

В зависимости от выбранного хранилища могут потребоваться дополнительные ресурсы. Подробности смотрите в разделе [Управление хранилищами](/products/virtualization-platform/documentation/admin/platform-management/storage/sds/lvm-local.html).

## Поддерживаемые ОС для узлов платформы

| Дистрибутив Linux           | Поддерживаемые версии           |
| --------------------------- | ------------------------------- |
| РЕД ОС                      | 7.3, 8.0                        |
| РОСА Сервер                 | 7.9, 12.4, 12.5.1               |
| ALT Linux                   | p10, 10.0, 10.1, 10.2, 11       |
| Astra Linux Special Edition | 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.8 |
| CentOS                      | 7, 8, 9                         |
| Debian                      | 10, 11, 12                      |
| Ubuntu                      | 18.04, 20.04, 22.04, 24.04      |

{% alert level="warning" %}
Обеспечение стабильной работы механизмов живой миграции требует использования идентичной версии ядра Linux на всех узлах кластера.

Это связано с тем, что различия в версиях ядра могут привести к несовместимости интерфейсов, системных вызовов и особенностей работы с ресурсами, что может нарушить процесс миграции виртуальных машин.
{% endalert %}

## Поддерживаемые гостевые ОС

Платформа виртуализации поддерживает операционные системы, работающие на архитектурах `x86` и `x86_64`, в качестве гостевых ОС. Для корректной работы в режиме паравиртуализации необходимо установить драйверы `VirtIO`, обеспечивающие эффективное взаимодействие между виртуальной машиной и гипервизором.

Успешный запуск операционной системы определяется следующими критериями:

- корректная установка и загрузка ОС;
- бесперебойная работа основных компонентов, таких как сеть и хранилище;
- отсутствие сбоев или ошибок в процессе работы.

Для операционных систем семейства Linux рекомендуется использовать образы гостевых ОС с поддержкой cloud-init, что позволяет выполнять инициализацию виртуальных машин после их создания.

Для операционных систем семейства Windows платформа [autounattend](https://learn.microsoft.com/ru-ru/windows-hardware/manufacture/desktop/windows-setup-automation-overview) установки.

## Поддерживаемые конфигурации виртуальных машин

- Максимальное число поддерживаемых ядер: `248`.
- Максимальный объем оперативной памяти: `1024 Гб`.
- Максимальное количество подключаемых блочных устройств: `16`.

## Поддерживаемые хранилища

Виртуальные машины используют ресурсы PersistentVolume. Для управления этими ресурсами и выделения дискового пространства в кластере должно быть установлено одно или несколько поддерживаемых хранилищ:

| Хранилище                                  | Расположение дисков        |
|--------------------------------------------|----------------------------|
| sds-local-volume                           | Локальное                  |
| sds-replicated-volume                      | Реплики на узлах кластера  |
| Ceph-кластер                               | Внешнее хранилище          |
| NFS (Network File System)                  | Внешнее хранилище          |
| TATLIN.UNIFIED (Yadro)                     | Внешнее хранилище          |
| Huawei Dorado                              | Внешнее хранилище          |
| HPE 3par                                   | Внешнее хранилище          |
| NetApp                                     | Внешнее хранилище          |
