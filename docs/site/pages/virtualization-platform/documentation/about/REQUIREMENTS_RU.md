---
title: "Требования"
permalink: ru/virtualization-platform/documentation/about/requirements.html
lang: ru
---

{% alert level="warning" %}
Компоненты платформы необходимо развертывать на физических серверах (bare-metal).

Установка на виртуальные машины допустима только в демонстрационных целях, но при этом должна быть включена вложенная виртуализация (nested virtualization). Если платформа развернута на виртуальных машинах, техническая поддержка не предоставляется.
{% endalert %}

## Возможности масштабирования платформы

Платформа поддерживает следующую конфигурацию:

- Максимальное количество узлов: 1000.
- Максимальное количество виртуальных машин: 50000.

Платформа не имеет дополнительных ограничений и совместима с любым оборудованием, которое поддерживается [операционными системами](#поддерживаемые-ос-для-узлов-платформы), на которые она может быть установлена.

## Требования к аппаратному обеспечению

1. Отдельная **машина для установки**.

   Здесь будет запускаться установщик Deckhouse. Это может быть ноутбук администратора или любой другой компьютер, который не планируется добавлять в кластер. Требования к этой машине:

   - ОС: Windows 10+, macOS 10.15+, Linux (Ubuntu 18.04+, Fedora 35+);
   - Установленный Docker Engine или Docker Desktop (инструкции [для Ubuntu](https://docs.docker.com/engine/install/ubuntu/), [macOS](https://docs.docker.com/desktop/mac/install/), [Windows](https://docs.docker.com/desktop/windows/install/));
   - HTTPS-доступ к хранилищу образов контейнеров `registry.deckhouse.ru`;
   - SSH-доступ по ключу к узлу, который будет **master-узлом** будущего кластера;
   - SSH-доступ по ключу к узлу, который будет **worker-узлом** будущего кластера (если кластер будет состоять не из одного master-узла).

1. **Сервер для master-узла.**

   Серверов для запуска управляющих компонентов кластера может быть несколько. Для установки достаточно одного сервера, а остальные нужно будет добавить через механизмы управления узлами.

   Требования к физическому bare metal-серверу:

   - Ресурсы:
     - Процессор:
       - Архитектура x86_64;
       - Поддержка инструкций Intel-VT (VMX) или AMD-V (SVM);
       - не менее 4 ядер;
     - ОЗУ не менее 8 ГБ;
     - Дисковое пространство:
       - не менее 60 ГБ;
       - быстрый диск (400+ IOPS);
   - ОС [из списка поддерживаемых](#поддерживаемые-ос-для-узлов-платформы):
     - ядро Linux версии `5.8` или новее;
   - **Уникальный hostname** среди всех серверов будущего кластера;
   - Сетевые доступы:
     - HTTPS-доступ к хранилищу образов контейнеров `registry.deckhouse.ru`;
     - доступ к репозиториям пакетов используемой ОС;
     - SSH-доступ от **машины для установки** (см. п.1) по ключу;
     - сетевой доступ от **машины для установки** (см. п.1) по порту `22322/TCP`;
   - Требуемое ПО:
     - пакеты `cloud-utils` и `cloud-init` должны быть установлены.
   > **Важно.** Container runtime будет установлен автоматически, поэтому пакеты `containerd` и/или `docker` не должны быть установлены.

1. **Серверы для worker-узлов.**

   Это узлы, где будут запускаться виртуальные машины, поэтому ресурсов на этих серверах должно хватать для запуска планируемого количества виртуальных машин. При использовании программно-определяемого хранилища могут потребоваться дополнительные диски.

   Требования к физическому bare metal-серверу:

   - Ресурсы:
     - Процессор:
       - Архитектура x86_64;
       - Поддержка инструкций Intel-VT (VMX) или AMD-V (SVM);
       - не менее 4 ядер.
     - ОЗУ не менее 8 ГБ.
     - Дисковое пространство:
       - не менее 60 ГБ;
       - быстрый диск (400+ IOPS);
       - дополнительные диски для программно-определяемого хранилища.
   - ОС [из списка поддерживаемых](#поддерживаемые-ос-для-узлов-платформы):
     - ядро Linux версии `5.8` или новее.
   - **Уникальный hostname** среди всех серверов будущего кластера;
   - Сетевые доступы:
     - HTTPS-доступ к хранилищу образов контейнеров `registry.deckhouse.ru`;
     - доступ к репозиториям пакетов используемой ОС;
     - SSH-доступ от **машины для установки** (см. п.1) по ключу.
   - Требуемое ПО:
     - пакеты `cloud-utils` и `cloud-init` должны быть установлены (названия могут отличаться в зависимости от выбранной ОС).
   > **Важно.** Container runtime будет установлен автоматически, поэтому пакеты `containerd` и/или `docker` не должны быть установлены.

1. **Оборудование для хранилища.**

  В зависимости от выбранного хранилища могут потребоваться дополнительные ресурсы. Подробности смотрите в разделе [Управление хранилищами](/products/virtualization-platform/documentation/admin/platform-management/storage/sds/lvm-local.html).

## Поддерживаемые ОС для узлов платформы

| Дистрибутив Linux           | Поддерживаемые версии           |
| --------------------------- | ------------------------------- |
| РЕД ОС                      | 7.3, 8.0                        |
| РОСА Сервер                 | 7.9, 12.4, 12.5.1               |
| ALT Linux                   | p10, 10.0, 10.1, 10.2, 11       |
| Astra Linux Special Edition | 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.8 |
| CentOS                      | 7, 8, 9                         |
| Debian                      | 10, 11, 12                      |
| Ubuntu                      | 18.04, 20.04, 22.04, 24.04      |

{% alert level="warning" %}
Обеспечение стабильной работы механизмов живой миграции требует использования идентичной версии ядра Linux на всех узлах кластера.

Это связано с тем, что различия в версиях ядра могут привести к несовместимости интерфейсов, системных вызовов и особенностей работы с ресурсами, что может нарушить процесс миграции виртуальных машин.
{% endalert %}

## Поддерживаемые гостевые ОС

Платформа виртуализации поддерживает операционные системы, работающие на архитектурах `x86` и `x86_64`, в качестве гостевых ОС. Для корректной работы в режиме паравиртуализации необходимо установить драйверы `VirtIO`, обеспечивающие эффективное взаимодействие между виртуальной машиной и гипервизором.

Успешный запуск операционной системы определяется следующими критериями:

- корректная установка и загрузка ОС;
- бесперебойная работа основных компонентов, таких как сеть и хранилище;
- отсутствие сбоев или ошибок в процессе работы.

Для операционных систем семейства Linux рекомендуется использовать образы гостевых ОС с поддержкой cloud-init, что позволяет выполнять инициализацию виртуальных машин после их создания.

Для операционных систем семейства Windows платформа [autounattend](https://learn.microsoft.com/ru-ru/windows-hardware/manufacture/desktop/windows-setup-automation-overview) установки.

## Поддерживаемые конфигурации виртуальных машин

- Максимальное число поддерживаемых ядер: `248`.
- Максимальный объем оперативной памяти: `1024 Гб`.
- Максимальное количество подключаемых блочных устройств: `16`.

## Поддерживаемые хранилища

Виртуальные машины используют ресурсы PersistentVolume. Для управления этими ресурсами и выделения дискового пространства в кластере должно быть установлено одно или несколько поддерживаемых хранилищ:

| Хранилище                                  | Расположение дисков        |
|--------------------------------------------|----------------------------|
| sds-local-volume                           | Локальное                  |
| sds-replicated-volume                      | Реплики на узлах кластера  |
| Ceph-кластер                               | Внешнее хранилище          |
| NFS (Network File System)                  | Внешнее хранилище          |
| TATLIN.UNIFIED (Yadro)                     | Внешнее хранилище          |
| Huawei Dorado                              | Внешнее хранилище          |
| HPE 3par                                   | Внешнее хранилище          |
