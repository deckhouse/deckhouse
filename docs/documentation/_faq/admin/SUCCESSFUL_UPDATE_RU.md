---
title: Как понять, что обновление прошло успешно?
subsystems:
  - deckhouse
lang: ru
---

Если [алерт `DeckhouseUpdating`](../reference/alerts.html#monitoring-deckhouse-deckhouseupdating) перестал отображаться, это означает, что обновление завершено.

Также вы можете проверить состояние релизов DKP в кластере, используя следующую команду:

```shell
d8 k get deckhouserelease
```

Пример вывода:

```console
NAME       PHASE        TRANSITIONTIME   MESSAGE
v1.46.8    Superseded   13d
v1.46.9    Superseded   11d
v1.47.0    Superseded   4h12m
v1.47.1    Deployed     4h12m
```

Статус `Deployed` говорит о том, что произошло переключение на соответствующую версию, но не гарантирует успешное завершение обновления.

Для проверки успешности обновления выведите состояние пода `deckhouse`:

```shell
d8 k -n d8-system get pods -l app=deckhouse
```

Пример вывода:

```console
NAME                   READY  STATUS   RESTARTS  AGE
deckhouse-7844b47bcd-qtbx9  1/1   Running  0       1d
```

- Если под находится в статусе `Running` и в колонке `READY` указано `1/1`, это означает, что обновление завершилось успешно.
- Если под находится в статусе `Running`, но в колонке `READY` указано `0/1`, это означает, что обновление еще не завершено. Если так продолжается более 20–30 минут, это может говорить о наличии проблем в работе DKP. Необходима диагностика.
- Если под не находится в статусе `Running`, это может говорить о наличии проблем в работе DKP. Необходима диагностика.

#### Если что-то пошло не так

- Проверьте логи, используя следующую команду:

  ```shell
  d8 k -n d8-system logs -f -l app=deckhouse | jq -Rr 'fromjson? | .msg'
  ```

- Соберите отладочную информацию и свяжитесь с [технической поддержкой DKP](/tech-support/).
