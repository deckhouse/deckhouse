spec:
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          description: |
            Фактический объект снимка "на диске" в основной системе хранения.
          properties:
            apiVersion:
              description: |
                Версионированную схему этого представления объекта.
                Серверы должны преобразовывать распознанные схемы к последнему внутреннему значению и
                могут отклонять нераспознанные значения.
                Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            kind:
              description: |
                Строковое значение, представляющее REST-ресурс, который представляет данный объект.
                Серверы могут выводить это из конечной точки, на которую клиент отправляет запросы.
                Не может быть обновлено.
                В CamelCase.
                Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            spec:
              description: |
                Свойства VolumeSnapshotContent, созданного основной системой хранения. Обязательное поле.
              properties:
                deletionPolicy:
                  description: |
                    Определяет, должен ли данный VolumeSnapshotContent и его физический снапшот в основной системе хранения 
                    быть удалены при удалении связанного VolumeSnapshot. Может принимать следующие значения:
                    - `Retain` — VolumeSnapshotContent и его физический снапшот в основной системе хранения сохраняются.
                    - `Delete` — VolumeSnapshotContent и его физический снапшот в основной системе хранения удаляются.
                    Для динамически созданных снапшотов это поле будет автоматически заполнено CSI-сторонником значением 
                    поля `DeletionPolicy`, определенным в соответствующем VolumeSnapshotClass. Для существующих снапшотов 
                    пользователи ДОЛЖНЫ указать это поле при создании объекта VolumeSnapshotContent. 
                    Обязательное поле.
                driver:
                  description: |
                    Имя CSI-драйвера, используемого для создания физического снапшота в основной системе хранения. Это 
                    ДОЛЖНО быть тем же именем, которое возвращается вызовом CSI GetPluginName() для этого драйвера. 
                    Обязательное поле.
                source:
                  description: |
                    Указывает, является ли снапшот (или должен быть) динамически созданным или уже существует и просто 
                    требует представления объекта Kubernetes. Это поле неизменяемо после создания. Обязательное поле.
                  properties:
                    snapshotHandle:
                      description: |
                        Указывает CSI "snapshot_id" существующего снапшота в основной системе хранения, для которого 
                        было (или должно быть) создано представление объекта Kubernetes. Это поле неизменяемо.
                    volumeHandle:
                      description: |
                        Указывает CSI "volume_id" тома, из которого должен быть динамически создан снапшот. 
                        Это поле неизменяемо.
                sourceVolumeMode:
                  description: |
                    Режим тома, снапшот которого создается. Может быть либо "Filesystem", либо "Block". Если не указано, 
                    это означает, что режим исходного тома неизвестен. Это поле неизменяемо. 
                    Это поле является альфа-полем.
                volumeSnapshotClassName:
                  description: |
                    Имя VolumeSnapshotClass, из которого был (или будет) создан данный снапшот. Обратите 
                    внимание, что после создания снапшот может быть удален или пересоздан с другим набором значений, и 
                    поэтому не должен ссылаться после создания снапшота.
                volumeSnapshotRef:
                  description: |
                    Указывает объект VolumeSnapshot, к которому привязан данный объект VolumeSnapshotContent. Поле 
                    `VolumeSnapshot.Spec.VolumeSnapshotContentName` должно ссылаться на имя данного 
                    VolumeSnapshotContent для действительной двунаправленной привязки. Для существующего объекта 
                    VolumeSnapshotContent имя и пространство имен объекта VolumeSnapshot ДОЛЖНЫ быть указаны для привязки. 
                    Это поле неизменяемо после создания. Обязательное поле.
                  properties:
                    apiVersion:
                      description: |
                        Версия API ссылаемого объекта.
                    fieldPath:
                      description: |
                        Если ссылка идет на часть объекта, а не на весь объект, эта строка должна содержать 
                        действительное выражение доступа к полю JSON/Go, такое как `desiredState.manifest.containers[2]`. 
                        Например, если ссылка на объект идет на контейнер в поде, это будет иметь значение типа 
                        `spec.containers{name}` (где `name` ссылается на имя контейнера, который вызвал событие) или, 
                        если имя контейнера не указано, `spec.containers[2]` (контейнер с индексом 2 в этом поде). 
                        Этот синтаксис выбран только для того, чтобы иметь какой-то четко определенный способ ссылки на 
                        часть объекта. 
                        TODO: этот дизайн не является окончательным, и это поле может измениться в будущем.
                    kind:
                      description: |
                        Тип ссылаемого объекта. Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                    name:
                      description: |
                        Имя ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    namespace:
                      description: |
                        Пространство имен ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                    resourceVersion:
                      description: |
                        Конкретная resourceVersion, на которую делается эта ссылка, если есть. 
                        Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                    uid:
                      description: |
                        UID ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
            status:
              description: |
                Текущая информация о снапшоте.
              properties:
                creationTime:
                  description: |
                    Временная метка, когда была создана точечная копия снапшота основной системой хранения. В случае 
                    динамического создания снапшота это поле будет заполнено CSI-сторонником значением `creation_time`, 
                    возвращенным из вызова CSI `CreateSnapshot` gRPC. Для существующего снапшота это поле будет заполнено 
                    значением `creation_time`, возвращенным из вызова CSI `ListSnapshots` gRPC, если драйвер поддерживает это. 
                    Если не указано, это означает, что время создания неизвестно. Формат этого поля — время Unix в наносекундах, 
                    закодированное как `int64`. В Unix команда `date +%s%N` возвращает текущее время в наносекундах с 1970-01-01 00:00:00 UTC.
                error:
                  description: |
                    Последняя наблюдаемая ошибка во время создания снапшота, если есть. После успешной повторной 
                    попытки это поле ошибки будет очищено.
                  properties:
                    message:
                      description: |
                        Строка, детализирующая встреченную ошибку во время создания снапшота, если указана. 
                        ПРИМЕЧАНИЕ: message может быть залогирован, и он не должен содержать конфиденциальную информацию.
                    time:
                      description: |
                        Временная метка, когда была встречена ошибка.
                readyToUse:
                  description: |
                    Указывает, готов ли снапшот к использованию для восстановления тома. В случае динамического создания снапшота это поле будет заполнено CSI-сторонником значением "ready_to_use", возвращенным из вызова CSI "CreateSnapshot" gRPC. Для существующего снапшота это поле будет заполнено значением "ready_to_use", возвращенным из вызова CSI "ListSnapshots" gRPC, если драйвер поддерживает это, в противном случае это поле будет установлено в "True". Если не указано, это означает, что готовность снапшота неизвестна.
                restoreSize:
                  description: |
                    Полный размер снапшота в байтах. В случае динамического создания снапшота это поле будет заполнено 
                    CSI-сторонником значением `size_bytes`, возвращенным из вызова CSI `CreateSnapshot` gRPC. Для существующего 
                    снапшота это поле будет заполнено значением `size_bytes`, возвращенным из вызова CSI `ListSnapshots` gRPC, 
                    если драйвер поддерживает это. При восстановлении тома из этого снапшота размер тома НЕ ДОЛЖЕН быть меньше 
                    `restoreSize`, если он указан, иначе восстановление не удастся. Если не указано, это означает, что размер неизвестен.
                snapshotHandle:
                  description: |
                    CSI `snapshot_id` снапшота в основной системе хранения. Если не указано, это означает, что динамическое 
                    создание снапшота либо не удалось, либо все еще выполняется.
                volumeGroupSnapshotHandle:
                  description: |
                    Определяет CSI "group_snapshot_id" группового снапшота в основной системе хранения.
    - name: v1beta1
      schema:
        openAPIV3Schema:
          description: |
            Представляет фактический объект снапшота "на диске" в основной системе хранения.
          properties:
            spec:
              description: |
                Свойства VolumeSnapshotContent, созданного основной системой хранения. Обязательное поле.
              properties:
                deletionPolicy:
                  description: |
                    Определяет, должен ли данный VolumeSnapshotContent и его физический снапшот в основной системе хранения быть удалены при удалении связанного VolumeSnapshot. Может принимать следующие значения:
                    - `Retain` — VolumeSnapshotContent и его физический снапшот в основной системе хранения сохраняются.
                    - `Delete` — VolumeSnapshotContent и его физический снапшот в основной системе хранения удаляются.
                    Для динамически созданных снапшотов это поле будет автоматически заполнено CSI-сторонником значением поля "DeletionPolicy", определенным в соответствующем VolumeSnapshotClass. Для существующих снапшотов пользователи ДОЛЖНЫ указать это поле при создании объекта VolumeSnapshotContent.
                    Обязательное поле.
                driver:
                  description: |
                    Определяет имя CSI-драйвера, используемого для создания физического снапшота в основной системе хранения. Это ДОЛЖНО быть тем же именем, которое возвращается вызовом CSI GetPluginName() для этого драйвера. Обязательное поле.
                source:
                  description: |
                    Указывает, является ли снапшот (или должен быть) динамически созданным или уже существует и просто требует представления объекта Kubernetes. Это поле неизменяемо после создания. Обязательное поле.
                  properties:
                    snapshotHandle:
                      description: |
                        Указывает CSI `snapshot_id` существующего снапшота в основной системе хранения, для которого было 
                        (или должно быть) создано представление объекта Kubernetes. Это поле неизменяемо.
                    volumeHandle:
                      description: |
                        Указывает CSI `volume_id` тома, из которого должен быть динамически создан снапшот. Это поле неизменяемо.
                    volumeSnapshotClassName:
                      description: |
                        Определяет имя `VolumeSnapshotClass`, из которого был (или будет) создан данный снапшот. Обратите внимание, 
                        что после создания снапшот может быть удален или пересоздан с другим набором значений, и поэтому не должен 
                        ссылаться после создания снапшота.
                  volumeSnapshotRef:
                    description: |
                      Указывает объект `VolumeSnapshot`, к которому привязан данный объект `VolumeSnapshotContent`. Поле 
                      `VolumeSnapshot.Spec.VolumeSnapshotContentName` должно ссылаться на имя данного `VolumeSnapshotContent` для 
                      действительной двунаправленной привязки. Для существующего объекта `VolumeSnapshotContent` имя и пространство 
                      имен объекта `VolumeSnapshot` ДОЛЖНЫ быть указаны для привязки. Это поле неизменяемо после создания. Обязательное поле.
                  properties:
                    apiVersion:
                      description: |
                        Версию API ссылаемого объекта.
                    fieldPath:
                      description: |
                        Если ссылка идет на часть объекта, а не на весь объект, эта строка должна содержать действительное выражение доступа к полю JSON/Go, такое как `desiredState.manifest.containers[2]`. Например, если ссылка на объект идет на контейнер в поде, это будет иметь значение типа `spec.containers{name}` (где `name` ссылается на имя контейнера, который вызвал событие) или, если имя контейнера не указано, `spec.containers[2]` (контейнер с индексом 2 в этом поде). Этот синтаксис выбран только для того, чтобы иметь какой-то четко определенный способ ссылки на часть объекта. TODO: этот дизайн не является окончательным, и это поле может измениться в будущем.
                    kind:
                      description: |
                        Тип ссылаемого объекта. Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                    name:
                      description: |
                        Имя ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                    namespace:
                      description: |
                        Пространство имен ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                    resourceVersion:
                      description: |
                        Определяет конкретную resourceVersion, на которую делается эта ссылка, если есть. Подробнее: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                    uid:
                      description: |
                        UID ссылаемого объекта. Подробнее: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
            status:
              description: |
                Представляет текущую информацию о снапшоте.
              properties:
                creationTime:
                  description: |
                    Временная метка, когда была создана точечная копия снапшота основной системой хранения. В случае динамического создания снапшота это поле будет заполнено CSI-сторонником значением "creation_time", возвращенным из вызова CSI "CreateSnapshot" gRPC. Для существующего снапшота это поле будет заполнено значением "creation_time", возвращенным из вызова CSI "ListSnapshots" gRPC, если драйвер поддерживает это. Если не указано, это означает, что время создания неизвестно. Формат этого поля — время Unix в наносекундах, закодированное как int64. В Unix команда `date +%s%N` возвращает текущее время в наносекундах с 1970-01-01 00:00:00 UTC.
                error:
                  description: |
                    Последняя наблюдаемая ошибка во время создания снапшота, если есть. После успешной повторной попытки это поле ошибки будет очищено.
                  properties:
                    message:
                      description: |
                        Строка, детализирующая встреченную ошибку во время создания снапшота, если указана. ПРИМЕЧАНИЕ: message может быть залогирован, и он не должен содержать конфиденциальную информацию.
                    time:
                      description: |
                        Временная метка, когда была встречена ошибка.
                readyToUse:
                  description: |
                    Указывает, готов ли снапшот к использованию для восстановления тома.
                    В случае динамического создания снапшота это поле будет заполнено CSI-сторонником
                    значением "ready_to_use", возвращенным из вызова CSI "CreateSnapshot" gRPC.
                    Для существующего снапшота это поле будет заполнено значением "ready_to_use",
                    возвращенным из вызова CSI "ListSnapshots" gRPC, если драйвер поддерживает это,
                    в противном случае это поле будет установлено в "True".
                    Если не указано, это означает, что готовность снапшота неизвестна.
                restoreSize:
                  description: |
                    restoreSize представляет полный размер снапшота в байтах.
                    В случае динамического создания снапшота это поле будет заполнено CSI-сторонником
                    значением "size_bytes", возвращенным из вызова CSI "CreateSnapshot" gRPC.
                    Для существующего снапшота это поле будет заполнено значением "size_bytes",
                    возвращенным из вызова CSI "ListSnapshots" gRPC, если драйвер поддерживает это.
                    При восстановлении тома из этого снапшота размер тома НЕ ДОЛЖЕН быть меньше
                    restoreSize, если он указан, иначе восстановление не удастся.
                    Если не указано, это означает, что размер неизвестен.
                snapshotHandle:
                  description: |
                    CSI "snapshot_id" снапшота в основной системе хранения.
                    Если не указано, это означает, что динамическое создание снапшота либо не удалось,
                    либо все еще выполняется.
