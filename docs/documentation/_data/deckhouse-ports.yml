groups:
- group: MastersToMasters
  description:
    en: Master to master nodes traffic
    ru: Трафик между мастер-узлами
  destinations:
  - ports: "2379, 2380"
    protocol: TCP
    description:
      en: etcd replication
      ru: Репликация etcd
  - ports: "9443"
    protocol: TCP
    description:
      en: Cluster API webhook handler
      ru: Webhook-обработчик Cluster API
- group: MastersToNodes
  description:
    en: Master to nodes traffic
    ru: Трафик между мастер-узлами и остальными узлами
  destinations:
  - ports: "22"
    protocol: TCP
    description:
      en: SSH for Static nodes bootstrapping by static provider
      ru: SSH для первичной настройки узлов статичным провайдером
  - ports: "10250"
    protocol: TCP
    description:
      en: kubelet
      ru: kubelet
  - ports: "10423"
    protocol: TCP
    description:
      en: bashible apiserver for delivering node configurations
      ru: apiserver bashible для доставки конфигурации на узлы
  - ports: "9680"
    protocol: TCP
    description:
      en: runtime-audit-engine webhook
      ru: webhook компонента runtime-audit-engine
- group: NodesToMasters
  description:
    en: Nodes to masters traffic
    ru: Трафик между любыми узлами и мастер-узлами
  destinations:
  - ports: "6443"
    protocol: TCP
    description:
      en: kube-apiserver for controllers working in node's host network namespace
      ru: kube-apiserver для контроллеров, работающих в сетевом неймспейсе узла
  - ports: "8443"
    protocol: TCP
    description:
      en: machine-controller-manager metrics
      ru: Метрики компонента machine-controller-manager
- group: NodesToNodes
  description:
    en: Nodes to nodes traffic
    ru: Трафик между любыми узлами
  destinations:
  - ports: ""
    protocol: ICMP
    description:
      en: ICMP for node-to-node connectivity monitoring
      ru: ICMP для мониторинга связности между узлами
  - ports: "8469, 8472"
    protocol: UDP
    description:
      en: VXLAN for pod-to-pod traffic encapsulation
      ru: VXLAN для инкапсуляции трафика между подами
  - ports: "123"
    protocol: UDP
    description:
      en: NTP for time synchronization between nodes
      ru: NTP для синхронизации времени между узлами
  - ports: "4240"
    protocol: TCP
    description:
      en: CNI Cilium agent node-to-node healthcheck
      ru: Порт для процедуры healthcheck соседних узлов в CNI Cilium
  - ports: "4244"
    protocol: TCP
    description:
      en: Hubble API
      ru: API для компонента Hubble
  - ports: "9734"
    protocol: TCP
    description:
      en: CNI cilium agent metrics
      ru: Метрики агентов CNI Cilium
  - ports: "9735"
    protocol: TCP
    description:
      en: CNI cilium operator metrics
      ru: Метрики оператора CNI Cilium
  - ports: "9889"
    protocol: TCP
    description:
      en: Deckhouse metrics
      ru: Метрики Deckhouse
  - ports: "9434"
    protocol: TCP
    description:
      en: "*ebpf-exporter* metrics"
      ru: "Метрики модуля *ebpf-exporter*"
  - ports: "9101"
    protocol: TCP
    description:
      en: "*node-exporter* module metrics"
      ru: "Метрики модуля *node-exporter*"
  - ports: "8008"
    protocol: TCP
    description:
      en: Kubernetes control-plane metrics
      ru: Метрики Kubernetes control-plane
  - ports: "9255"
    protocol: TCP
    description:
      en: "*kube-proxy* metrics"
      ru: "Метрики kube-proxy*"
  - ports: "8083"
    protocol: TCP
    description:
      en: Cluster API metrics
      ru: Метрики Cluster API
  - ports: "8766"
    protocol: TCP
    description:
      en: "*runtime-audit-engine* module metrics"
      ru: "Метрики модуля *runtime-audit-engine*"
  - ports: "10445"
    protocol: TCP
    description:
      en: "*kube-router* metrics"
      ru: "Метрики *kube-router*"
  - ports: "3367"
    protocol: TCP
    description:
      en: API of the *sds-replicated-volume* module node agent
      ru: API агента модуля *sds-replicated-volume*
  - ports: "9942"
    protocol: TCP
    description:
      en: sds-replicated-volume node agent metrics
      ru: Метрики агента sds-replicated-volume
  - ports: "7000-7999"
    protocol: TCP
    description:
      en: sds-replicated-volume drbd replication
      ru: Репликация DRBD для sds-replicated-volume
- group: ExternalToMaster
  description:
    en: External traffic to masters
    ru: Внешний трафик на мастер-узлы
  destinations:
  - ports: "6443"
    protocol: TCP
    description:
      en: kube-apiserver for local admins
      ru: kube-apiserver для местных администраторов
- group: ExternalToFrontends
  description:
    en: External traffic to frontends
    ru: Внешний трафик на фронтенд-узлы
  destinations:
  - ports: "30000-32767"
    protocol: TCP
    description:
      en: NodePort range
      ru: Диапазон портов NodePort
  - ports: "80, 443"
    protocol: TCP
    description:
      en: Application ports for requests to Ingress controllers over HTTP and HTTPS
      ru: Прикладные порты для запросов к Ingress-контроллеру по протоколам HTTP и HTTPS
  - ports: "5416"
    protocol: UDP
    description:
      en: OpenVPN
      ru: OpenVPN
  - ports: "5416"
    protocol: TCP
    description:
      en: OpenVPN
      ru: OpenVPN
- group: NodesToExternal
  description:
    en: External traffic for all nodes
    ru: Внешний трафик для каждого узла
  destinations:
  - ports: "443"
    protocol: TCP
    description:
      en: Container registry
      ru: Container registry
  - ports: "123"
    protocol: UDP
    description:
      en: NTP for external time synchronization
      ru: NTP для синхронизации с внешними серверами точного времени
