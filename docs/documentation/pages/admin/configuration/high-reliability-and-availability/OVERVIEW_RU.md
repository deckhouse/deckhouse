---
title: Высокая надежность и доступность
permalink: ru/admin/high-reliability-and-availability/overview.html
description: Высокая надежность и доступность
lang: ru
---

Правильно настроенный кластер должен быть устойчив к различным ситуациям, возникающим в процессе работы: таким как внезапные отключения узлов или компонентов, потеря связности и так далее. Это приводит к ожиданию от кластера стабильности в любой ситуации — намеренно или случайно удалённые компоненты не должны приводить к выходу из строя всей системы, а работоспособность не должна нарушаться.

Кластер под управлением Deckhouse Kubernetes Platform поддерживает режим высокой надежности и доступности (High Availability или HA).

В этом режиме повышается общая отказоустойчивость всей системы и надежность кластера, что обеспечивает стабильную и непрерывную работу, а также восстановление кластера после сбоев с минимальными задержками.

При включенном режиме HA критически важные компоненты кластера запускаются с учетом требуемой избыточности для обеспечения непрерывной работы. В случае отказа любого из экземпляров работа компонентов не прерывается, что позволяет избежать простоев.

Если в кластере **более одного master-узла**, режим HA **включается автоматически**. Это правило верно как при развёртывании кластера сразу с тремя master-узлами, так и при увеличении количества master-узлов с одного до трёх.

Для обеспечения отказоустойчивости кластера **всегда** используйте не менее трёх master-узлов. Такое количество обеспечит безотказную работу кластера и позволит безопасно обновлять master-узлы. В большем числе master-узлов нет необходимости, а двух узлов будет недостаточно. При использовании одного master-узла его отказ приведет к сбою всего кластера, так как именно master-узел управляет ключевыми компонентами кластера, обеспечивающими его работу.

## Межкластерное взаимодействие

Повышенную отказоустойчивость кластера можно настроить не только внутри одного кластера, но и в рамках межкластерного взаимодействия, построенного на базе режима Service Mesh модуля `istio`.

В этом режиме можно настроить федерацию между двумя или более кластерами, в результате которой в случае проблем с одним из них нагрузка будет перераспределяться на остальные кластера.

Подробнее про настройку этого режима читайте [в разделе настройки Service Mesh](../network/service-mesh-overview.html)

## Хаос-инжиниринг

Для проверки кластера на устойчивость в DKP предусмотрены инструменты хаос-инжиниринга, которые позволяют прогнозируемо, либо в случайном порядке выводить из строя те или иные компоненты и смотреть, как на это реагирует инфраструктура.

За эту проверку отвечает компонент [Chaos Monkey](./chaos-engineering.html). Он входит в модуль управления узлами кластера и предназначен для проверки отказоустойчивости элементов кластера и запущенных приложений.
