---
title: Высокая надежность и доступность
permalink: ru/admin/high-reliability-and-availability/overview.html
description: Высокая надежность и доступность
lang: ru
---

Правильно настроенный кластер должен быть устойчив к различным ситуациям, возникающим в процессе работы: таким как внезапные отключения узлов или компонентов, потеря связности и так далее. Это приводит к ожиданию от кластера стабильности в любой ситуации — намеренно или случайно удалённые компоненты не должны приводить к выходу из строя всей системы, а работоспособность не должна нарушаться.

Кластер под управлением Deckhouse Kubernetes Platform поддерживает режим высокой надежности и доступности (High Availability или HA).

В этом режиме повышается общая отказоустойчивость всей системы и надежность кластера, что обеспечивает стабильную и непрерывную работу, а также восстановление кластера после сбоев с минимальными задержками.

При включенном режиме HA критически важные компоненты кластера запускаются с учетом требуемой избыточности для обеспечения непрерывной работы. В случае отказа любого из экземпляров работа компонентов не прерывается, что позволяет избежать простоев.

Если в кластере **более одного master-узла**, режим отказоустойчивости **включается автоматически**. Это правило верно как при развёртывании кластера сразу с тремя master-узлами, так и при увеличении master-узлов с одного до трёх. Для обеспечения отказоустойчивости кластера рекомендуется **всегда** использовать не енее трёх master-узлов, такое количество обеспечит отказоустойчивость и позволит безопасно выполнять обновление master-узлов. В большем числе master-узлов нет необходимости, а два узла не обеспечат кворума. При использовании одного master-узла при выходе его из строя сломается весь кластер, т.к. именно master-узел отвечает за работу ключевых компонентов кластера, обеспечивающих работу всего кластера.

## Межкластерное взаимодействие

Устойчивость кластера к катастрофам и повышенную отказоустойчивость можно настроить не только внутри одного кластера, но и в рамках межкластерного взаимодействия, построенного на базе Service Mesh модуля Istio.

В этом режиме возможно настроить федерацию между двумя или более кластерами, в результате которой в случае проблем с одним кластеров нагрузка будет перераспределяться в другие кластера.

Подробнее про настройку этого режима читайте [в разделе настройки Service Mesh](../network/service-mesh-overview.html)

## Хаос-инжиниринг

Для проверки кластера на устойчивость DKP имеет инструменты хаос-инжиниринга, которые позволяют либо прогнозируемо, либо в случаеном порядке выводить из строя те или компоненты и смотреть, как реагирует на это инсфраструктура.

За этот режим отвечает компонент [Chaos Monkey](./chaos-engineering.html). Он входит в модуль управления узлами кластера и предназначен для верификации отказоустойчивости элементов кластера и запущенных приложений.
