---
title: "mTLS"
permalink: ru/admin/network/mtls.html
lang: ru
---

В Deckhouse Kubernetes Platform mTLS реализуется средствами Istio (модуль `istio`).

<!-- Перенесено с минорными изменениями из https://deckhouse.ru/products/kubernetes-platform/documentation/latest/modules/istio/#mutual-tls -->

Этот механизм — главный метод взаимной аутентификации сервисов с использованием TLS-сертификатов.
Принцип основывается на том, что при всех исходящих запросах проверяется серверный сертификат, а при входящих — клиентский.
После проверок sidecar-proxy получает возможность идентифицировать удаленный узел и использовать эти данные для авторизации либо в прикладных целях.

Каждый сервис получает собственный идентификатор в формате `<TrustDomain>/ns/<Namespace>/sa/<ServiceAccount>`, где `TrustDomain` в нашем случае — это домен кластера.
Каждому сервису можно выделять собственный ServiceAccount или использовать стандартный «default».
Полученный идентификатор сервиса можно использовать как в правилах авторизации, так и в прикладных целях.
Именно этот идентификатор используется в качестве удостоверяемого имени в TLS-сертификатах.

Эти настройки можно переопределить на уровне namespace.
