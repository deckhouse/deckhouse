---
title: "Обзор"
permalink: ru/user/monitoring/
lang: ru
search: monitoring overview, cluster monitoring, metrics collection, monitoring setup, observability, обзор мониторинга, мониторинг кластера, сбор метрик, наблюдаемость
---

Deckhouse Kubernetes Platform (DKP) предоставляет удобную и готовую к работе систему мониторинга Kubernetes-кластера.

Мониторинг по умолчанию собирает большое количество метрик и содержит настроенные триггеры для отслеживания общего состояния пользовательских приложений, а также предоставляет к ним доступ в виде удобных дашбордов в веб-интерфейсе Grafana. Достаточно включить [модуль `monitoring-custom`](/modules/monitoring-custom/), добавить лейбл `prometheus.deckhouse.io/custom-target` на Service или Pod и указать порт (например, `http-metrics`), чтобы метрики начали собираться без ручной настройки Prometheus.

Также есть возможность настроить сбор собственных метрик с приложений, разворачиваемых в кластере. Система поддерживает гибкие настройки: HTTPS, кастомные пути, параметры запроса, работу с Istio (mTLS) и защиту от перегрузки (лимит метрик).
Это позволяет интегрировать приложения в общий мониторинг кластера, отслеживать их состояние и производительность.

Ключевые особенности:

- **Готовые дашборды** в Grafana с графиками по загрузке CPU, памяти, дисков и сети — можно смотреть в разрезе подов, узлов или пространств имён.
- **Полезные уведомления** в Slack/Telegram/email о проблемах: недоступность сервисов, нехватка места на дисках, приближающееся окончание сертификатов.
- **Простая интеграция** — чтобы начать мониторить своё приложение, достаточно добавить пару аннотаций к Pod или Service.

Всё работает «из коробки» — никакой сложной настройки не требуется.

## Режим расширенного мониторинга

Также в DKP возможно использование режима расширенного мониторинга, который предоставляет алерты по дополнительным метрикам. Он позволяет настроить:

- мониторинг секретов в Кластере (объекты Secret) и срока действия TLS-сертификатов в них (реализуется [модулем `extended-monitoring`](/modules/extended-monitoring/));
- сбор событий в кластере Kubernetes в виде метрик (реализуется модулем `extended-monitoring`);
- мониторинг доступности образов контейнеров в registry, используемых контроллерах (Deployments, StatefulSets, DaemonSets, CronJobs) (реализуется модулем `extended-monitoring`);
- мониторинг объектов в пространствах имен, у которых есть лейбл `extended-monitoring.deckhouse.io/enabled=""` (реализуется модулем `extended-monitoring`).

### Алертинг в режиме расширенного мониторинга

DKP предоставляет возможность гибкой настройки алертинга для каждого пространства имён и указания различной степени критичности в зависимости от порога. Можно определить множество порогов для отправки предупреждений в различные пространства имён, например, для следующих параметров:

- значения свободного места и inodes на диске;
- утилизация CPU узлов и контейнера;
- процент ошибок с кодом `5xx` на `nginx-ingress`;
- количество возможных недоступных подов в `Deployment`, `StatefulSet`, `DaemonSet`.
