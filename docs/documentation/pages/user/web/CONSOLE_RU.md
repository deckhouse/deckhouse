---
title: "Console"
permalink: ru/user/web/console.html
lang: ru
---

Веб-интерфейс модуля console предназначен для управления кластером, в нем предоставляется доступ к мониторингу, настройке, управлению узлами, модулями, безопасностью и сетевыми параметрами.

## Доступ к web-интерфейсу console

Для получения доступа к веб-интерфейсу console необходимо в адресной строке браузера ввести console. <ШАБЛОН_ИМЕН_КЛАСТЕРА>, где <ШАБЛОН_ИМЕН_КЛАСТЕРА> – строка, соответствующая шаблону DNS-имен кластера, указанному в глобальном параметре `modules.publicDomainTemplate`.
При первом входе в веб-интерфейс появится окно аутентификации, где потребуется ввести учетные данные пользователя. После этого откроется главный экран документации.

Для аутентификации введите учетные данные, полученные от администратора безопасности.
При успешной аутентификации откроется страница веб-интерфейса console. На странице отображены разделы:
- [Deckhouse](#deckhouse),
- [Управление узлами](#сеть)
- [Мультитенантность](#мультитенантность)
- [Сеть](#сеть)
- [Безопасность](#безопасность)
- [Мониторинг](#мониторинг)
- [Журналирование](#журналирование)



5.3.5 Веб-интерфейс модуля console
Для управления кластером ПО «Deckhouse Platform» используется модуль console.
Для получения доступа к веб-интерфейсу console необходимо в адресной строке браузера ввести console. <ШАБЛОН_ИМЕН_КЛАСТЕРА>, где <ШАБЛОН_ИМЕН_КЛАСТЕРА> – строка, соответствующая шаблону DNS-имен кластера, указанному в глобальном параметре modules.publicDomainTemplate. Формат адреса подключения к console может быть иным.  Точный адрес подключения можно узнать у администратора информационной (автоматизированной) системы.
При первом входе в веб-интерфейс появится окно аутентификации, где потребуется ввести учетные данные пользователя. После этого откроется главный экран документации.

Для аутентификации введите учетные данные, полученные от администратора безопасности.
При успешной аутентификации откроется страница веб-интерфейса console.
5.3.5.1 Раздел «Deckhouse»
5.3.5.1.1 Подраздел «Обзор»
В подразделе «Обзор» расположена основная информация о кластере и его основных компонентах.

В верхней части экрана находятся две панели: Deckhouse и Kubernetes. Панель Kubernetes показывает версию Kubernetes, который работает в кластере.
Ниже представлена панель «Инструменты», содержащая несколько кнопок:
Дашборд Kubernetes – доступ к панели Kubernetes.
Документация – доступ к справочным материалам.
Grafana – мониторинг метрик.
Prometheus – сбор и хранение метрик.
Статус-страница – отображение статуса компонентов.
Доступность компонентов – информация о доступности ключевых сервисов.
Генератор kubeconfig – инструмент для создания конфигурационных файлов.

Далее представлена панель «Предупреждения», в которой содержатся ошибки, ожидаемые обновления, а также активные алерты.

Ниже представлена панель «Группы узлов с проблемами», которая анализирует работоспособность групп узлов и выводит список проблемных узлов, если таковые имеются.

В правой части экрана находится панель «Статусы подсистем», где отображается статус различных сервисов, которые работают в кластере.

Внизу экрана размещены графики и показатели мониторинга ресурсов, которые отображают текущие изменения нагрузки и позволяют отслеживать производительность кластера.

Слева представлено боковое меню с основными разделами. Некоторые разделы меню могут не отображаться из-за отсутствия доступа к ним. При необходимости получения доступа к отсутствующим разделам требуется обратиться к администратору платформы.

Снизу слева находится меню с профилем пользователя, настройками и добавлением YAML-файла.
Всплывающее меню пользователя позволяет увидеть текущего пользователя и выйти из системы при необходимости.

Всплывающее меню настроек позволяет изменять системные параметры и отображает текущую версию модуля Console.

Всплывающее меню добавления YAML-файла вызывает редактор YAML, который используется для управления конфигурациями в Kubernetes.

5.3.5.1.2 Подраздел «Модули»
В подразделе «Модули» перечислены запущенные и отключенные модули. Для поиска необходимого модуля можно воспользоваться фильтром.

5.3.5.1.3 Подраздел «Глобальные настройки»
В подразделе «Глобальные настройки» представлены критически важные настройки для работы кластера.
Глобальные настройки кластера – управление DNS-именами и toleration.
Глобальные настройки модулей – отказоустойчивость, Ingress-класс и StorageClass.
Режим работы HTTPS – настройка сертификатов.
Ресурсы control plane – выделение CPU и памяти для управляющих компонентов.
Эти параметры влияют на стабильность, безопасность и отказоустойчивость кластера, поэтому их изменение требует осторожности.

5.3.5.2 Раздел «Управление узлами»
5.3.5.2.1 Подраздел «Группы узлов»
Подраздел «Группы узлов» предназначен для управления группами узлов Kubernetes-кластера. Он позволяет просматривать, фильтровать и добавлять узлы, а также следить за их состоянием и загрузкой ресурсов. Для добавления новой группы узлов можно воспользоваться кнопкой «Добавить».

Форма добавления группы узлов позволяет задать имя, количество узлов и настроить селектор статических машин по лейблам, который после создания группы становится недоступным для редактирования. Также предусмотрена возможность добавления выражений для лейблов. В нижней части формы находятся дополнительные настройки, включая параметры обновления узлов, шаблон узла, системные параметры, а также параметры Chaos Monkey, которые также можно раскрыть для детальной конфигурации.

Карточка группы узлов отображает информацию о типе узлов и версии Kubernetes, текущем состоянии узлов, включая общее количество, готовность и актуальность. Также представлены графики мониторинга нагрузки на ресурсы, такие как процессор, память и диск, позволяющие отслеживать их использование. Дополнительно указываются тейнты и лейблы, которые используются для управления назначением подов и организации работы узлов.

5.3.5.2.2 Подраздел «Классы машин»
Подраздел «Классы машин» позволяет управлять конфигурациями машин, используемых в кластере, с возможностью сортировки списка.

Меню «Добавление класса машин» позволяет задать параметры новой конфигурации машин для кластера. В разделе конфигурации указывается имя класса, а в блоке ресурсов настраиваются количество виртуальных ядер, платформа процессора, объем памяти, базовый уровень производительности, число графических адаптеров и идентификатор образа. Дополнительно можно включить поддержку прерываемых виртуальных машин, задать размер и тип диска. В разделе сети выбирается основная подсеть, тип сети и возможность использования публичного IP. Также предусмотрена возможность добавления дополнительных подсетей и лейблов для более гибкой настройки инфраструктуры.

5.3.5.2.3 Подраздел «Узлы всех групп»
Подраздел «Узлы всех групп» предоставляет информацию о всех узлах Kubernetes-кластера с возможностью сортировки и фильтрации по имени, зоне, версии ОС, CRI, kubelet и состоянию. В карточке узла отображается его текущее состояние, группа, дата и время, зона размещения, внутренний и внешний IP-адреса, используемый контейнерный рантайм (CRI), версия ядра, версия kubelet и операционная система. Также представлены графики загрузки процессора, памяти, диска и сетевого трафика, что позволяет отслеживать производительность узла. Доступны кнопки «Cordon» и «Cordon+Drain» для управления доступностью узла в кластере.

5.3.5.2.4 Подраздел «Статические машины»
Подраздел «Статические машины» предоставляет возможность управления статическими узлами в кластере и включает две вкладки: «Машины» для работы со статическими машинами и «SSH-доступы» для настройки авторизации. Этот интерфейс позволяет быстро находить и управлять статическими машинами в инфраструктуре.

Кнопка «Добавить машину» во вкладке «Машины» предназначена для добавления новой машины в кластер и включает обязательные поля конфигурации. Пользователь должен указать имя машины, ее адрес и выбрать способ SSH-доступа из выпадающего списка. Дополнительно можно задать лейблы, добавляя ключи и значения для дальнейшей идентификации и управления.

Кнопка «Добавить SSH-доступ» во вкладке «SSH-доступы» предназначена для настройки подключения к узлам через SSH. Пользователь должен задать имя доступа, имя пользователя и приватный SSH-ключ, а также может указать пароль sudo для выполнения привилегированных команд. Дополнительно доступны поля для изменения SSH-порта и добавления дополнительных аргументов SSH.

5.3.5.3 Раздел «Мультитенантность»
Мультитенантность позволяет создавать проекты в кластере Kubernetes. Проект — это изолированное окружение, в котором можно развернуть приложения.
5.3.5.3.1 Подраздел «Шаблоны проектов»
Подраздел «Шаблоны проектов» предназначен для создания шаблонов проектов. Шаблоны проектов по умолчанию включают базовые сценарии использования и служат примером возможностей шаблонов. Для добавления нового шаблона используется кнопка «Создать шаблон проекта».

Форма «Новый шаблон проекта» позволяет задать имя проекта, а также добавить лейблы и аннотации для его идентификации. В разделе представлены две вкладки: «Схема openAPI», предназначенная для описания спецификации значений в формате JSON, и «Шаблон ресурсов проекта», где можно определить ресурсы, совместимые с Helm, для управления окружением проекта.

5.3.5.3.2 Подраздел «Проекты»
Подраздел «Проекты» предназначен для формирования нового проекта на основе заранее подготовленного шаблона, который определяет создаваемые ресурсы и их параметры. В процессе создания происходит валидация параметров по OpenAPI, рендеринг шаблона через Helm и развертывание всех описанных ресурсов внутри автоматически создаваемого Namespace. Проект использует механизмы Kubernetes для контроля доступа, ограничения ресурсов и настройки сетевой изоляции, что позволяет управлять безопасностью и нагрузкой в рамках Namespace. Это меню предоставляет удобный интерфейс для настройки проекта, выбора шаблона и передачи параметров для корректной интеграции ресурсов. Для создания проекта используется кнопка «Создать проект».

Форма «Новый проект» предназначена для создания проекта на основе выбранного шаблона. Пользователь должен задать имя проекта, а также при необходимости добавить лейблы и аннотации. В центральной части формы выбирается шаблон проекта, на основе которого будут созданы необходимые ресурсы, и можно оставить комментарий. В нижнем блоке предусмотрены поля для ввода параметров, требуемых для работы шаблона, а также для отображения его структуры. Этот интерфейс позволяет удобно настраивать новый проект, обеспечивая его соответствие заданному шаблону.

5.3.5.4 Раздел «Сеть»
5.3.5.4.1 Подраздел «Ингресс-контроллеры»
Подраздел «Ингресс-контроллеры» предоставляет информацию о текущих ингресс-контроллерах, обеспечивающих маршрутизацию трафика внутри кластера. Интерфейс позволяет сортировать список контроллеров и добавлять новые. В карточке контроллера «nginx» отражены его основные параметры, такие как тип входящего подключения (LoadBalancer), IP-адрес, класс ингресса (nginx) и уровень доступа к балансировщику. Также указан селектор узлов, определяющий, на каких нодах работает контроллер. В нижней части представлены графики мониторинга загрузки процессора, памяти, сетевого трафика и количества запросов в секунду (RPS), что позволяет отслеживать производительность контроллера. Доступны опции «Создать на основании» для клонирования конфигурации и «Удалить» для удаления ингресс-контроллера.

Кнопка «Добавить» предоставляет пользователю возможность выбрать тип нового входящего подключения (инлета) для ингресс-контроллера. Доступны несколько вариантов: порт хоста, порт хоста с Proxy Protocol, порт хоста с резервным контроллером, Балансировщик и Балансировщик с Proxy Protocol.

5.3.5.5 Раздел «Безопасность»
5.3.5.5.1 Подраздел «Сканер CVE»
Подраздел «Сканер CVE» предназначен для проверки контейнерных образов на наличие уязвимостей (CVE) в кластере.
Вкладка «Отчеты об уязвимостях» — отображает результаты последних сканирований. Здесь представлена информация о проверенном объекте, включая его имя, пространство имен, тип и имя ресурса, контейнер, а также используемый образ. Если уязвимости не обнаружены, отображается зеленый индикатор. Также есть возможность выполнить повторное сканирование нажатием кнопки «Пересканировать».

Вкладка «Сканируемые неймспейсы» — позволяет управлять пространствами имен, которые подлежат сканированию. Интерфейс поддерживает сортировку по имени и параметрам сканируемости. Опционально можно скрыть системные пространства имен. Пользователь может вручную выбрать нужные пространства имен для сканирования и запустить процесс проверки кнопкой «Пересканировать», а также просмотреть отчеты по каждому объекту.

5.3.5.6 Раздел «Мониторинг»
5.3.5.6.1 Подраздел «Обзор»
Подраздел «Обзор» включает две вкладки: «Состояние» и «Конфигурация», предназначенные для мониторинга и настройки экземпляров Prometheus. Вкладка «Состояние» отображает список работающих подов с указанием имени, узла размещения, статуса, IP-адреса, возраста, а также загрузки CPU и памяти. Для каждого пода указаны компоненты, такие как init-config-reloader, prometheus, config-reloader и kube-rbac-proxy, обеспечивающие его работу. Также присутствует возможность удаления пода.

Во вкладке «Конфигурация» представлены раскрывающиеся секции для настройки различных аспектов работы Prometheus, включая оперативные и ретроспективные метрики, аутентификацию и подключение к Grafana, а также управление ресурсами. Этот интерфейс позволяет пользователям следить за состоянием метрик в реальном времени и гибко настраивать интеграцию с другими сервисами.

5.3.5.6.2 Подраздел «Обработка метрик»
Подраздел «Обработка метрик» позволяет создавать и управлять правилами обработки метрик. При добавлении нового правила требуется задать его название и указать группу обработки. Это дает возможность организовывать и модифицировать поступающие метрики перед их дальнейшей передачей.

5.3.5.6.3 Подраздел «Отправка метрик»
Подраздел «Отправка метрик» используется для настройки экспорта данных в локальный или внешний сервер Prometheus. В процессе добавления нового ресурса указывается URL для отправки метрик, а также настраиваются параметры TLS, аутентификация и возможность предварительной обработки метрик перед отправкой.

5.3.5.6.4 Подраздел «Источники для Grafana»
Подраздел «Источники для Grafana» предоставляет возможность интеграции с различными источниками данных, используемыми в дашбордах.

При создании нового источника данных необходимо задать его название, тип, URL, параметры доступа и настройки аутентификации. Это позволяет подключать Grafana к нужным хранилищам метрик и визуализировать данные.

5.3.5.6.5 Подраздел «Дашборды для Grafana»
Подраздел «Дашборды для Grafana» предназначен для управления дашбордами, используемыми для визуализации метрик. В основном интерфейсе отображается список доступных дашбордов с возможностью сортировки по времени создания, фильтрации по имени или каталогу. Каждый дашборд имеет название, принадлежность к папке и возможность создания на его основе нового экземпляра или удаления.

При добавлении нового дашборда требуется задать его название и папку, в которой он будет храниться (если папка не существует, она будет автоматически создана). Внизу формы присутствует поле для ввода JSON-манифеста, содержащего описание конфигурации дашборда. Важно, чтобы в манифесте не было локального id, кроме uid, так как это может повлиять на корректность отображения в Grafana.

5.3.5.6.6 Подраздел «Активные алерты»
Подраздел «Активные алерты» отображает список текущих предупреждений в системе мониторинга. Интерфейс позволяет сортировать алерты по имени и фильтровать их по статусу или названию, что упрощает поиск нужного уведомления.
Каждый алерт содержит название, уровень критичности, информацию о времени создания и последнего обновления. Также указываются связанные компоненты и модули, что помогает определить источник проблемы.
Для получения подробной информации по алерту доступна кнопка «Читать описание», а внизу карточки присутствует пояснение о причине срабатывания уведомления. Этот раздел предназначен для оперативного мониторинга проблем в кластере и быстрого реагирования на критические события.

5.3.5.7 Раздел «Журналирование»
5.3.5.7.1 Подраздел «Отправка логов»
Подраздел «Отправка логов» предназначен для управления логированием и настройкой отправки логов в различные хранилища. В основном интерфейсе отображается список доступных конфигураций, с возможностью сортировки по имени и фильтрации по типу. Кнопка «Добавить» открывает выпадающее меню с выбором целевого хранилища, включая Loki, ElasticSearch, Logstash, Vector, Kafka и Splunk.

При добавлении нового хранилища логов (на примере Loki) необходимо задать его название и адрес подключения. Доступны дополнительные настройки:
TLS-параметры для безопасного соединения,
Аутентификация (Basic или Bearer-токен),
Дополнительные лейблы для фильтрации и организации логов,
Параметры буфера, определяющие способ хранения логов перед отправкой (на диске или в памяти),
Ограничения отправки, позволяющие задать частоту отправки записей,
Исключения, которые позволяют фильтровать определенные логи.

5.3.5.7.2 Подраздел «Сбор логов»
Подраздел «Сбор логов» предназначен для настройки источников логов, которые затем могут быть отправлены в целевые хранилища. Интерфейс позволяет сортировать и фильтровать существующие правила сбора логов, а также добавлять новые источники. В выпадающем меню кнопки «Добавить» представлены два типа источников: File (сбор логов из файловой системы) и KubernetesPods (сбор логов из подов Kubernetes).

При добавлении нового правила сбора логов (например, File) требуется задать название, а затем настроить параметры:
Хранилище — указывается, куда будут отправляться собранные логи.
Фильтр файлов — задаются пути к файлам логов, которые необходимо или, наоборот, не нужно считывать. Поддерживаются подстановки (wildcards).
Разделитель строк — можно задать символ, разделяющий записи в файле.
Фильтрация логов — можно добавить правила по лейблам и фильтры, чтобы сохранялись только нужные записи.
