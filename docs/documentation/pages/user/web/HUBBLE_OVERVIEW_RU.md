---
title: "Веб-интерфейс визуализации сетевого стека кластера"
permalink: ru/user/web/hubble.html
lang: ru
---

Веб-интерфейс визуализации сетевого стека кластера предназначен для оперативной диагностики и анализа сетевого взаимодействия в платформе Deckhouse. Данный интерфейс позволяет отслеживать сетевые взаимодействия между подами, сервисами и внешними ресурсами, анализировать сетевую активность и выявлять проблемы с сетью. В платформе Deckhouse реализация этого интерфейса осуществляется модулем `cilium-hubble`.

## Доступ к web-интерфейсу

Для перехода в веб-интерфейс визуализации сетевого стека кластера откройте адрес `hubble.<ШАБЛОН_ИМЕН_КЛАСТЕРА>`, где `<ШАБЛОН_ИМЕН_КЛАСТЕРА>` – строка, соответствующая шаблону DNS-имен кластера, указанному в глобальном параметре `modules.publicDomainTemplate`.

При переходе по адресу `hubble.<ШАБЛОН_ИМЕН_КЛАСТЕРА>` откроется экран выбора пространства имен, для которого будет отображаться сетевой стек.

![Web-интерфейс Hubble](../../images/hubble/hubble-choose-namespace.png)

Выберите пространство имен с помощью выпадающего списка в левой верхней части экрана или кликнув по названию нужного пространства имен в списке в центре экрана.

После выбора пространства имен откроется экран с визуализацией сетевого стека и средствами анализа.
Он состоит из следующих частей:

- Верхняя панель с фильтрами и краткой сводкой по кластеру (количество потоков и количество узлов). Подробнее о фильтрации данных для отображения — в разделе [Фильтрация данных для отображения](#фильтрация-данных-для-отображения).
- Схема сетевых потоков. Подробнее о работе с визуальной схемой сетевых потоков — в разделе [Работа со схемой сетевых потоков](#работа-со-схемой-сетевых-потоков).
- Таблица сетевых потоков и событий. Подробнее о работе с таблицей — в разделе [Работа с таблицей сетевых потоков и событий](#работа-с-таблицей-сетевых-потоков-и-событий).

![Web-интерфейс Hubble (основное окно)](../../images/hubble/hubble-main.png)

Данные на схеме и в таблице сетевых потоков отображаются в реальном времени.

## Фильтрация данных для отображения

Чтобы отфильтровать отображаемые данные о сетевом стеке и потоках, воспользуйтесь верхней панелью с фильтрами.
Здесь расположены фильтры:

- для выбора пространства имен (выпадающий список в левой части панели);
  ![Выбор пространства имен](../../images/hubble/choose-ns-hubble.png)
- для выбора ресурсов пространства имен, для которых нужно отобразить потоки (поле ввода в центральной части панели);
  ![Выбор ресурсов пространства имен](../../images/hubble/choose-resouces-hubble.png)
- для выбора сетевых потоков на основе решения («вердикта»), принятого по ним cilium;
  ![Выбор сетевых потоков](../../images/hubble/choose-flows-hubble.png)
- для выбора элементов схемы анализируемого пространства имен.
  ![Выбор элементов схемы](../../images/hubble/choose-scheme-elems-hubble.png)

## Работа со схемой сетевых потоков

Схема сетевых потоков для выбранного пространства имен отображается в средней части экрана с визуализацией сетевого стека и средствами анализа. На схеме отображаются ресурсы выбранного пространства имен, расположенные в прямоугольнике с названием пространства имен, и внешние элементы, с которыми они взаимодействуют.

Чтобы посмотреть детальную информацию (список лейблов, сетевые взаимодействия и т.д.) по конкретному ресурсу на схеме, кликните по нему.

![Схема сетевых потоков](../../images/hubble/flows-scheme-hubble.png)

## Работа с таблицей сетевых потоков и событий

Каждая строка таблицы содержит следующую информацию о сетевом потоке:

- имя пода — источника потока (столбец «Source Pod»);
- IP-адрес пода — источника потока (столбец «Source IP»);
- идентификатор сущности — источника потока (столбец «Source Identity»);
- имя пода — получателя потока (столбец «Destination Pod»);
- IP-адрес пода — получателя потока (столбец «Destination IP»);
- идентификатор сущности-получателя (столбец «Destination Identity»);
- номер порта назначения (столбец «Destination Port»);
- информация о прикладном уровне (Layer 7), если поток использует протоколы HTTP (столбец «L7 info»);
- результат («вердикт») обработки сетевого потока Cilium (столбец «Verdict»);
- информация о результатах проверки подлинности сетевого потока, если такая проверка выполнялась (столбец «Authentication»);
- флаги TCP, связанные с потоком (столбец «TCP Flags»);
- временная метка потока (столбец «Timestamp»).

![Таблица сетевых потоков](../../images/hubble/flows-table-hubble.png)

### Настройка набора столбцов таблицы

Чтобы настроить набор столбцов, отображаемых в таблице, кликните по кнопке «Columns» в ее левой верхней части и выберете нужные.

![Настройка столбцов таблицы](../../images/hubble/flows-table-collumns-hubble.png)

### Просмотр информации о записях таблицы

Чтобы посмотреть информацию о записи таблицы в текстовом виде, кликните в любой части соответствующей строки. Информация отобразится в правой части таблицы. Данные здесь отображаются независимо от того, какой набор столбцов выбран для отображения в таблице.

![Просмотр информации о записи таблицы](../../images/hubble/info-row-hubble.png)
