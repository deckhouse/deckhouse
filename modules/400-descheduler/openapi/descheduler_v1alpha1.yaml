description: Descheduler is a description of a single descheduler instance
properties:
  apiVersion:
    description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
    type: string
  kind:
    description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
    type: string
  metadata:
    type: object
    additionalProperties: true
  spec:
    description: Spec defines the behavior of a descheduler instance.
    properties:
      deploymentTemplate:
        description: Defines Template of a descedhuler Deployment
        properties:
          nodeSelector:
            additionalProperties:
              type: string
            type: object
          tolerations:
            items:
              properties:
                effect:
                  type: string
                key:
                  type: string
                operator:
                  type: string
                tolerationSeconds:
                  format: int64
                  type: integer
                value:
                  type: string
              type: object
            type: array
        type: object
      deschedulerPolicy:
        description: commonParameters and strategies follow descheduler's documentation https://github.com/kubernetes-sigs/descheduler#policy-and-strategies
        properties:
          parameters:
            description: Parameters that apply to all policies
            properties:
              evictFailedBarePods:
                description: EvictFailedBarePods allows pods without ownerReferences and in failed phase to be evicted.
                type: boolean
              evictLocalStoragePods:
                description: EvictLocalStoragePods allows pods using local storage to be evicted.
                type: boolean
              evictSystemCriticalPods:
                description: 'EvictSystemCriticalPods allows eviction of pods of any priority (including Kubernetes system pods) Note: Setting evictSystemCriticalPods to true disables priority filtering entirely.'
                type: boolean
              ignorePvcPods:
                description: IgnorePVCPods prevents pods with PVCs from being evicted.
                type: boolean
              maxNoOfPodsToEvictPerNamespace:
                description: MaxNoOfPodsToEvictPerNamespace restricts maximum of pods to be evicted per namespace.
                type: integer
              maxNoOfPodsToEvictPerNode:
                description: MaxNoOfPodsToEvictPerNode restricts maximum of pods to be evicted per node.
                type: integer
              nodeSelector:
                type: string
            type: object
          strategies:
            description: 'List of strategies with corresponding parameters for a given Descheduler instances To enable a strategy with default parameters, specify it like this: removePodsViolatingNodeAffinity: {}'
            properties:
              highNodeUtilization:
                properties:
                  params:
                    properties:
                      nodeFit:
                        type: boolean
                      nodeResourceUtilizationThresholds:
                        properties:
                          numberOfNodes:
                            type: integer
                          targetThresholds:
                            additionalProperties:
                              type: number
                            type: object
                          thresholds:
                            additionalProperties:
                              type: number
                            type: object
                          useDeviationThresholds:
                            type: boolean
                        type: object
                    type: object
                type: object
              lowNodeUtilization:
                properties:
                  params:
                    properties:
                      nodeFit:
                        type: boolean
                      nodeResourceUtilizationThresholds:
                        properties:
                          numberOfNodes:
                            type: integer
                          targetThresholds:
                            additionalProperties:
                              type: number
                            type: object
                          thresholds:
                            additionalProperties:
                              type: number
                            type: object
                          useDeviationThresholds:
                            type: boolean
                        type: object
                    type: object
                type: object
              podLifeTime:
                properties:
                  params:
                    properties:
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      podLifeTime:
                        properties:
                          maxPodLifeTimeSeconds:
                            type: integer
                          podStatusPhases:
                            items:
                              type: string
                            type: array
                        type: object
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removeDuplicates:
                properties:
                  params:
                    properties:
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      removeDuplicates:
                        properties:
                          excludeOwnerKinds:
                            items:
                              type: string
                            type: array
                        type: object
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removeFailedPods:
                properties:
                  params:
                    properties:
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      removeFailedPods:
                        properties:
                          excludeOwnerKinds:
                            items:
                              type: string
                            type: array
                          includingInitContainers:
                            type: boolean
                          minPodLifetimeSeconds:
                            type: integer
                          reasons:
                            items:
                              type: string
                            type: array
                        type: object
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removePodsHavingTooManyRestarts:
                properties:
                  params:
                    properties:
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      podsHavingTooManyRestarts:
                        properties:
                          includingInitContainers:
                            type: boolean
                          podRestartThreshold:
                            format: int32
                            type: integer
                        type: object
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removePodsViolatingInterPodAntiAffinity:
                properties:
                  params:
                    properties:
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removePodsViolatingNodeAffinity:
                properties:
                  params:
                    properties:
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeAffinityType:
                        items:
                          type: string
                        type: array
                      nodeFit:
                        type: boolean
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removePodsViolatingNodeTaints:
                properties:
                  params:
                    properties:
                      excludedTaints:
                        items:
                          type: string
                        type: array
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
              removePodsViolatingTopologySpreadConstraint:
                properties:
                  params:
                    properties:
                      includeSoftConstraints:
                        type: boolean
                      labelSelector:
                        properties:
                          matchExpressions:
                            items:
                              properties:
                                key:
                                  type: string
                                operator:
                                  type: string
                                values:
                                  items:
                                    type: string
                                  type: array
                              required:
                                - key
                                - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      namespaces:
                        properties:
                          exclude:
                            items:
                              type: string
                            type: array
                          include:
                            items:
                              type: string
                            type: array
                        type: object
                      nodeFit:
                        type: boolean
                      thresholdPriority:
                        format: int32
                        type: integer
                      thresholdPriorityClassName:
                        type: string
                    type: object
                type: object
            type: object
        type: object
    type: object
  status:
    description: Most recently observed status of a descheduler instance.
    properties:
      ready:
        type: boolean
    required:
      - ready
    type: object
required:
  - spec
type: object
