---
apiVersion: deckhouse.io/v1alpha1
kind: ClusterLoggingConfig
metadata:
  name: test-k8s-syslog
spec:
  type: KubernetesPods
  kubernetesPods:
    namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: test-namespace
    labelSelector:
      matchLabels:
        app: test-app
  destinationRefs:
    - syslog-dest
---
apiVersion: deckhouse.io/v1alpha1
kind: ClusterLogDestination
metadata:
  name: syslog-dest
spec:
  type: Socket
  socket:
    address: 192.168.1.1:514
    mode: UDP
    encoding:
      codec: Syslog
  extraLabels:
    environment: production
    team: platform
