apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: noderoutingtables.network.deckhouse.io
  labels:
    heritage: deckhouse
    module: static-routing-manager
spec:
  group: network.deckhouse.io
  scope: Cluster
  names:
    plural: noderoutingtables
    singular: noderoutingtable
    kind: NodeRoutingTable
  preserveUnknownFields: false
  versions:
  - name: v1alpha1
    served: true
    storage: true
    subresources:
      status: {}
    schema: &schema
      openAPIV3Schema:
        type: object
        description: |
          describe routingtables and routes on node
        required:
        - spec
        properties:
          spec:
            type: object
            required:
            - ipRouteTableID
            - routes
            properties:
              ipRouteTableID:
                type: integer
                minimum: 1
                maximum: 4294967295
                description: |
                  ID of the desired routing table.
                  If the value is not explicitly specified, it will be generated automatically.
                  This field cannot be changed after the resource is created.
                  If necessary, you need to recreate the resource.
              routes:
                type: array
                items:
                  type: object
                  description: |
                    Desired routes.
                  required:
                    - destination
                    - gateway
                  properties:
                    destination:
                      type: string
                      format: cidr
                      description: |
                        Description network.
                    gateway:
                      type: string
                      format: ipv4
                      description: |
                        Nexthop.
          status:
            type: object
            properties:
              reconcileStatus:
                type: string
              reconcileMessage:
                type: string



