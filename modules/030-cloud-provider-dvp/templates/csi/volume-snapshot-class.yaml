{{- if (.Values.global.enabledModules | has "snapshot-controller") }}
{{- range $index, $storageClass := .Values.cloudProviderDvp.internal.storageClasses }}
---
apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshotClass
metadata:
  {{- include "helm_lib_module_labels" (list $) | nindent 2 }}
  name: {{ $storageClass.name | quote }}
driver: csi.dvp.deckhouse.io
deletionPolicy: Delete
{{- end }}
{{- end }}
