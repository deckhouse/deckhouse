---
title: "Модуль upmeter: faq"
type:
  - instruction
---

## Почему периодически не могут разместится поды `upmeter-probe-controller-manager`, почему некоторые поды постоянно удаляются?

В модуле реализованы тесты доступности функционала различных контроллеров kubernetes.  
Тесты выполняется путем создания и удаления временных подов.

Объекты `upmeter-probe-scheduler`, отвечают за реализацию теста функционала размещения подов на ноды.
В рамках теста создается Pod, который размещается на ноду. Далее данный pod удаляется.

Объекты `upmeter-probe-controller-manager`, отвечают за тестирование работоспособности `kube-controller-manager`.  
В рамках теста создается `StatefulSet`, и проверяется что данный объект породил Pod (т.к. фактическое размещение пода не требуется и проверяется в рамках другого теста, то создается Pod который гарантированно не может разместиться, т.е. находится в состоянии `Pending`). Удаляет StatefulSet, проверяет, что порожденный им Pod удалился.

Объекты `smoke-mini` реализуют тестирование сетевой связность между узлами.
Для проверки размещаются пять `StatefulSet` с одной репликой. В рамках теста проверяется связность как между Pod `smoke-mini`, так и сетевая связность с Pod `upmeter-agent`, работающими на master-узлах.  
Раз в минуту один из Pod `smoke-mini` переносится на другой узел.
