---
title: "Модуль upmeter: FAQ"
type:
  - instruction
---

## Почему периодически не могут разместиться поды `upmeter-probe-controller-manager`, почему некоторые поды постоянно удаляются?

В модуле реализованы тесты доступности функционала различных контроллеров Kubernetes.  
Тесты выполняется путем создания и удаления временных подов.

Объекты `upmeter-probe-scheduler`, отвечают за реализацию теста функционала размещения подов на узлы.
В рамках теста создается под, который размещается на узел. Затем этот под удаляется.

Объекты `upmeter-probe-controller-manager` отвечают за тестирование работоспособности `kube-controller-manager`.  
В рамках теста создается StatefulSet, и проверяется что данный объект породил под (т.к. фактическое размещение пода не требуется и проверяется в рамках другого теста, то создается под который гарантированно не может разместиться, т.е. находится в состоянии `Pending`). Затем StatefulSet удаляется и выполняется проверка, что порожденный им под удалился.

Объекты `smoke-mini` реализуют тестирование сетевой связности между узлами.
Для проверки размещаются пять StatefulSet с одной репликой. В рамках теста проверяется связность как между подами `smoke-mini`, так и сетевая связность с подами `upmeter-agent`, работающими на master-узлах.  
Раз в минуту один из подов `smoke-mini` переносится на другой узел.
