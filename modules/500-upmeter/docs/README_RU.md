---
title: "Модуль upmeter"
webIfaces:
- name: status
- name: upmeter
---

Модуль `upmeter` собирает статистику по типам доступности для компонентов кластера и Deckhouse.

Также модуль:

* оценивает степень выполнения SLA на компонентах;
* показывает данные о доступности в веб-интерфейсе;
* формирует веб-страницу статуса работы компонентов кластера.

С помощью кастомного ресурса [UpmeterRemoteWrite](cr.html#upmeterremotewrite) можно экспортировать метрики доступности по протоколу [Prometheus Remote Write](https://docs.sysdig.com/en/docs/installation/prometheus-remote-write/).

Состав модуля:

- **agent** — работает на master-узлах и делает пробы доступности, отправляет результаты на сервер.
- **upmeter** — собирает результаты и поддерживает API-сервер для их извлечения.
- **front**:
  - **status** — показывает уровень доступности за последние 10 минут (требует авторизации, но ее можно отключить);
  - **webui** — показывает дашборд со статистикой по пробам и группам доступности (требует авторизации).
- **smoke-mini** — поддерживает постоянное *smoke-тестирование* с помощью StatefulSet.

Модуль отправляет около 100 показаний метрик каждые 5 минут. Это значение зависит от количества включенных модулей Deckhouse Kubernetes Platform.

## Интерфейс

Пример веб-интерфейса:
![Пример веб-интерфейса](../../images/upmeter/image1.png)

Пример графиков по метрикам из upmeter в Grafana:
![Пример графиков по метрикам из upmeter в Grafana](../../images/upmeter/image2.png)
