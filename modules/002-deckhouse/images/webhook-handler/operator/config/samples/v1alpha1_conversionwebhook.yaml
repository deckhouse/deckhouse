apiVersion: deckhouse.io/v1alpha1
kind: ConversionWebhook
metadata:
  labels:
    app.kubernetes.io/name: operator
    app.kubernetes.io/managed-by: kustomize
  name: conversionwebhook-sample
context:
  - name: cluster-configuration
    kubernetes:
      apiVersion: v1
      kind: ConfigMap
      nameSelector:
        matchNames: ["d8-cluster-configuration"]
conversions:
  - from: v1alpha1
    to: v1alpha2
    handler:
      python: |
        def v1alpha1_to_v1alpha2(obj: Object, context: Context) -> tuple[Object, Optional[str]]:
          ...

        def v1alpha2_to_v1alpha1(obj: Object, context: Context) -> tuple[Object, Optional[str]]:
          ...
  - from: v1alpha2
    to: v1alpha3
    handler:
      python: |
        def v1alpha2_to_v1alpha3(obj: Object, context: Context) -> tuple[Object, Optional[str]]:
          ...

        def v1alpha3_to_v1alpha2(obj: Object, context: Context) -> tuple[Object, Optional[str]]:
          ...
