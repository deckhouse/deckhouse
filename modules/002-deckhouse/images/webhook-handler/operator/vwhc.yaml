apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  creationTimestamp: null
  name: test-hooks
webhooks:
- admissionReviewVersions:
  - v1
  - v1beta1
  clientConfig:
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURhekNDQWxPZ0F3SUJBZ0lVZVBVd0NsV0JuOUVnN28ydzEvcEhJMkpTRXk4d0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JURUxNQWtHQTFVRUJoTUNVbFV4RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvTQpHRWx1ZEdWeWJtVjBJRmRwWkdkcGRITWdVSFI1SUV4MFpEQWVGdzB5TlRBNU1ERXhNekEwTVRCYUZ3MHlOVEV3Ck1ERXhNekEwTVRCYU1FVXhDekFKQmdOVkJBWVRBbEpWTVJNd0VRWURWUVFJREFwVGIyMWxMVk4wWVhSbE1TRXcKSHdZRFZRUUtEQmhKYm5SbGNtNWxkQ0JYYVdSbmFYUnpJRkIwZVNCTWRHUXdnZ0VpTUEwR0NTcUdTSWIzRFFFQgpBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGRSblJtazRsdkI2VWdBd0NvcmpKZEJ4Z0FQYTlWeWRZZmgxazNQN09MClREYXlkbUN1NjRETUFFaFVSL08xLzZwYUtrcG51L1p4MUE0S2NSbkUybGFWMmNRVzVhNmwzdVRlU29GMEh1ZGkKRlhoM0JQRi9yR1JVQVkrM29GYUVkRUZKc09BaENmdGFZWTRCRGdxaUprUDNZT3ljUHY3THJiaGFpSHg3TmpHUgpUdW1MUlVyVkQvdTIvRmVWbmpySm1iOEROSDJlNVFuM3Z3ZE01ZG1WMkpVd2NldVRMY1g4TWlFdHZFRUVjNFJVCmpVYVQ3Y3E0c21lL2xXQTZzK25kVmdnVitRZFNvM2pUVjZ4MG1MWlYrZ0hDQmd2MnlOTjZrNVJsS3plcklCbmMKQUJrNWNkSEJ1N01UbWJub0RGZ0pNeG11Unl2WUFOaEpIdU0rbEtkbE1RdGJBZ01CQUFHalV6QlJNQjBHQTFVZApEZ1FXQkJUaG03YUZTZzlSekMyMStpTHg1UG04MkJEU2pUQWZCZ05WSFNNRUdEQVdnQlRobTdhRlNnOVJ6QzIxCitpTHg1UG04MkJEU2pUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkoKZTJuaWFFcWtHYTBqb3RWUTNRWk4rNkRHVHV6Z04zK0tuSUpRL3dhMDB0eHRBRDczcUhPMTN3Wms0eXQ5YzB4cgpEKzRPdkVkVUhnU083aGJGakVlYVFKbmhrNGNzTE44UlBGV01CdXBMQnVocVNVNGVZSncvWlVsenRqSTN1SUJ5CnpvZU53eEZQek1NWWdaeXFabTdQMnBuNEJtYWRmZjJYWGs4MkJYbGVDcW4wb3FQc3dYNnFRb3V5OWowbmtGVlEKcEdLTFFhMFVoa1pDSHlyOE8xUm5pbzZWb1NVbGVLczJNUDBqNVdXakRsZ1p2eEYrV2djQ3ljV090OW1lNDBRdwp6RkFaNkdYb3l2QkJ1N1F1anY3cWlmN3BmMFNSS0RCV1FGSlI0SEhtS1FuVkJlUXFvQWV1RXhSeWdVaitBZ2VZCnZ6aVNnZHJUSGRUZzNnWlNSdStnCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    service:
      name: test
      namespace: ""
      path: /hooks/prometheusremotewrite-policy-deckhouse-io
  failurePolicy: Fail
  matchPolicy: Equivalent
  name: prometheusremotewrite-policy.deckhouse.io
  rules:
  - apiGroups:
    - deckhouse.io
    apiVersions:
    - v1alpha1
    - v1
    operations:
    - CREATE
    - UPDATE
    resources:
    - prometheusremotewrites
    scope: Cluster
  sideEffects: None
  timeoutSeconds: 10