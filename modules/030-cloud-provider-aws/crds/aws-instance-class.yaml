apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: awsinstanceclasses.deckhouse.io
  labels:
    heritage: deckhouse
    module: cloud-provider-aws
spec:
  group: deckhouse.io
  versions:
    - name: v1alpha1
      served: true
      storage: true
  scope: Cluster
  names:
    plural: awsinstanceclasses
    singular: awsinstanceclass
    kind: AWSInstanceClass
    categories:
    - cloudinstanceclasses
  validation:
    openAPIV3Schema:
      type: object
      description: AWSInstanceClass defines AWS-specific properties for to-be-provisioned Instances.
      required:
      - spec
      properties:
        spec:
          type: object
          required:
          - instanceType
          - ami
          properties:
            instanceType:
              description: Instance type of AWS instance.
              example: t3.large
              type: string
            ami:
              description: AMI ID to use whilst provisioning AWS instances.
              example: ami-040a1551f9c9d11ad
              type: string
            diskType:
              description: Instance EBS disk type.
              example: "gp2"
              type: string
            iops:
              description: iops rate for io1 diskType
              example: "500"
              type: string
            diskSizeGb:
              description: Instance disk size in gigabytes.
              example: 20
              type: integer
