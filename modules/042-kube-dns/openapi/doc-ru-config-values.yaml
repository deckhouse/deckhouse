properties:
  upstreamNameservers:
    description: |
      Список IP-адресов рекурсивных DNS-серверов, которые CoreDNS будет использовать для разрешения внешних доменов.

      По умолчанию используется список из `/etc/resolv.conf`.
  l4ProtocolMode:
    description: |
      Режим определяющий L4 протокол взаимодействия с вышестоящим DNS-сервером:
      - `PreferUDP` - Используется UDP, даже если первоначальный запрос пришел по TCP. Однако, если dns-ответ был усечен, потому что превысил 512 байт (**и только в этом случае**), запрос будет повторно отправлен по TCP.
      - `ForceTCP` - Всегда используется TCP, даже если исходный запрос пришел по UDP.
      - `Standard` - Используется тот же протокол (TCP или UDP), что и в исходном запросе.

      {% alert %}
        По RFC 1035, DNS сообщения передаваемые по UDP, ограничены 512 байтами (не считая заголовков IP или UDP). Более длинные сообщения обрезаются, и в заголовке устанавливается бит TC.
        И по RFC 5966, когда dns-клиент получает усеченный ответ(с битом TC), он должен отправить повторный запрос через TCP.
      {% endalert %}
  hosts:
    description: |
      Статический список хостов в стиле `/etc/hosts`.
  stubZones:
    description: |
      Список дополнительных зон для обслуживания CoreDNS.
    items:
      properties:
        zone:
          description: |
            Зона CoreDNS.
        upstreamNameservers:
          description: |
            Список IP-адресов рекурсивных DNS-серверов, которые CoreDNS будет использовать для разрешения доменов в этой зоне.
        cacheTTLSeconds:
          description: |
            Максимальный TTL в секундах для успешных запросов.
        l4ProtocolMode:
          description: |
            Режим определяющий L4 протокол взаимодействия с вышестоящим DNS-сервером:
            - `PreferUDP` - Используется UDP, даже если первоначальный запрос пришел по TCP. Однако, если dns-ответ был усечен, потому что превысил 512 байт (**и только в этом случае**), запрос будет повторно отправлен по TCP.
            - `ForceTCP` - Всегда используется TCP, даже если исходный запрос пришел по UDP.
            - `Standard` - Используется тот же протокол (TCP или UDP), что и в исходном запросе.
  enableLogs:
    description: |
      Включение логирования в CoreDNS.
  clusterDomainAliases:
    description: |
      Список альтернативных доменов кластера, разрешаемых наравне с `global.discovery.clusterDomain`.
