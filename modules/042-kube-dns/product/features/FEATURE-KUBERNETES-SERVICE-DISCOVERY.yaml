title-en: Kubernetes service discovery
title-ru: Обнаружение сервисов Kubernetes
description-en: |
  CoreDNS integration with Kubernetes API for automatic service discovery.
  Resolves Kubernetes service names, pod names, and cluster domain names.
  Supports both forward and reverse DNS lookups (in-addr.arpa, ip6.arpa).
description-ru: |
  Интеграция CoreDNS с Kubernetes API для автоматического обнаружения сервисов.
  Разрешает имена сервисов Kubernetes, имена подов и доменные имена кластера.
  Поддерживает как прямые, так и обратные DNS запросы (in-addr.arpa, ip6.arpa).
user-notes-ru: |
  **Важно для пользователей:**
  - Автоматически обнаруживает все сервисы и поды в кластере через Kubernetes API
  - Поддерживает короткие имена сервисов (my-service) и FQDN (my-service.namespace.svc.cluster.local)
  - TTL для Kubernetes записей: 30 секунд
  - Поддерживает reverse DNS lookup для IP адресов подов
  - Работает для всех namespace в кластере
  - Не требует дополнительной настройки - работает "из коробки"
user-notes-en: |
  **Important for users:**
  - Automatically discovers all services and pods in cluster via Kubernetes API
  - Supports short service names (my-service) and FQDN (my-service.namespace.svc.cluster.local)
  - TTL for Kubernetes records: 30 seconds
  - Supports reverse DNS lookup for pod IP addresses
  - Works for all namespaces in cluster
  - No additional configuration required - works out of the box
configuration-example: |
  No configuration needed - works automatically. Examples from a test pod:
  ```bash
  # Create test pod
  kubectl run -it --rm debug --image=busybox --restart=Never -- sh
  
  # Resolve service in same namespace
  nslookup my-service
  
  # Resolve service in different namespace
  nslookup my-service.other-namespace.svc.cluster.local
  
  # Resolve StatefulSet pod
  nslookup my-statefulset-0.my-statefulset.default.svc.cluster.local
  ```
related-features: []
user-stories:
  - en: I want my application pods to resolve Kubernetes service names automatically using DNS instead of hardcoded IP addresses, ensuring connectivity even when service IPs change.
    ru: Я хочу, чтобы мои поды приложения автоматически разрешали имена сервисов Kubernetes используя DNS вместо хардкода IP адресов, обеспечивая подключение даже при изменении IP сервисов.
    scope: Payload
  - en: I need to resolve pod names using DNS in StatefulSets, allowing pods to connect to specific peers by stable FQDNs instead of tracking IP addresses.
    ru: Мне нужно разрешать имена подов используя DNS в StatefulSets, позволяя подам подключаться к конкретным пирам по стабильным FQDN вместо отслеживания IP адресов.
    scope: Payload
  - en: I want CoreDNS to automatically discover new services and pods via Kubernetes API, so DNS resolution works immediately after service or pod creation without manual configuration.
    ru: Я хочу, чтобы CoreDNS автоматически обнаруживал новые сервисы и поды через Kubernetes API, чтобы DNS разрешение работало сразу после создания сервиса или пода без ручной настройки.
    scope: System

