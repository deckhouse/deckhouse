title-en: DNS response caching
title-ru: Кэширование DNS ответов
description-en: |
  Built-in DNS response caching in CoreDNS to reduce load on upstream DNS servers and improve response times.
  Default cache TTL is 30 seconds. Can be configured per stub zone.
description-ru: |
  Встроенное кэширование DNS ответов в CoreDNS для снижения нагрузки на upstream DNS серверы и улучшения времени отклика.
  Дефолтный TTL кэша - 30 секунд. Может быть настроен для каждой stub зоны.
user-notes-ru: |
  **Важно для пользователей:**
  - Кэш отключен автоматически при использовании модуля node-local-dns
  - Дефолтный TTL: 30 секунд для основного домена
  - Для stub зон можно настроить cacheTTLSeconds от 1 до 3600 секунд
  - Кэш значительно снижает нагрузку на upstream DNS серверы
  - Улучшает время отклика для повторяющихся DNS запросов
  - Кэшируются только успешные ответы (NOERROR)
user-notes-en: |
  **Important for users:**
  - Cache is automatically disabled when using node-local-dns module
  - Default TTL: 30 seconds for main domain
  - For stub zones, cacheTTLSeconds can be configured from 1 to 3600 seconds
  - Cache significantly reduces load on upstream DNS servers
  - Improves response time for repeated DNS queries
  - Only successful responses (NOERROR) are cached
configuration-example: |
  ```yaml
  apiVersion: deckhouse.io/v1alpha1
  kind: ModuleConfig
  metadata:
    name: kube-dns
  spec:
    settings:
      stubZones:
      - zone: internal.local
        upstreamNameservers: ['192.168.1.10']
        cacheTTLSeconds: 3600  # Cache for 1 hour
  ```
related-features: []
user-stories:
  - en: I need DNS response caching to reduce load on upstream DNS servers and improve response times for repeated queries.
    ru: Мне нужно кэширование DNS ответов для снижения нагрузки на upstream DNS серверы и улучшения времени отклика для повторяющихся запросов.
    scope: System
  - en: I want to configure different cache TTLs for different DNS zones to optimize performance based on how frequently records change.
    ru: Я хочу настроить разные TTL кэша для разных DNS зон, чтобы оптимизировать производительность в зависимости от частоты изменения записей.
    scope: System

