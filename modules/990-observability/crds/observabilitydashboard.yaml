apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: observabilitydashboards.observability.deckhouse.io
  labels:
    module: observability
    heritage: deckhouse
spec:
  group: observability.deckhouse.io
  scope: Namespaced
  names:
    plural: observabilitydashboards
    singular: observabilitydashboard
    kind: ObservabilityDashboard
  preserveUnknownFields: false
  versions:
    - name: v1alpha1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          type: object
          description: >
            Defines a dashboard that will be displayed in the Deckhouse Console.

            This resource is namespaced, allowing teams to create and manage their own dashboards independently within their namespaces.

            The following annotations are supported:
            - `metadata.deckhouse.io/category` — sets the folder/category in the UI.
            - `metadata.deckhouse.io/title` — sets the visible dashboard title.
              If not set, the title from the dashboard JSON is used.
          required:
            - spec
          properties:
            spec:
              type: object
              required:
                - definition
              properties:
                definition:
                  type: string
                  description: >
                    The dashboard's JSON manifest.
                    The JSON definition should be provided as a raw JSON string compatible with the Grafana dashboard format.
