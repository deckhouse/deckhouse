apiVersion: deckhouse.io/v1alpha1
kind: ModuleSource
metadata:
  name: test-source
spec:
  registry:
    repo: registry.deckhouse.io/deckhouse/ce/modules
    scheme: HTTPS
status:
  phase: Active
  modules:
  - name: test-module
    version: "2.0.0"
    checksum: sha256:test-checksum
---
apiVersion: deckhouse.io/v1alpha1
kind: Module
metadata:
  name: test-module
spec:
  version: "1.0.0"
  source: test-source
  releaseChannel: "Stable"
status:
  phase: Ready
  conditions:
  - type: IsReady
    status: "True"
  - type: EnabledByModuleManager
    status: "True"
  - type: EnabledByModuleConfig
    status: "True"
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleRelease
metadata:
  name: test-module-v1.0.0
  labels:
    module: test-module
spec:
  moduleName: test-module
  version: "1.0.0"
  weight: 900
status:
  phase: Deployed
  message: ""
---
apiVersion: deckhouse.io/v1alpha1
kind: ModuleRelease
metadata:
  name: test-module-v2.0.0
  labels:
    module: test-module
spec:
  moduleName: test-module
  version: "2.0.0"
  weight: 900
status:
  phase: Pending
  message: major version is greater than deployed 1.0.0
